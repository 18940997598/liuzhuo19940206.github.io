<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#333333">
    <meta name="msapplication-TileColor" content="#333333">
    
    
    
    <meta name="keywords" content="Life, ARIA, Hexo, liuzhuo, Cakki, gakki">
    
    
    <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
    
    
    <link rel="icon" type="image/png" sizes="192x192" href="/favicons/android-chrome-192x192.png">
    
    
    <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
    
    
    <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
    
    
    <link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#333333">
    
    
    <link rel="manifest" href="/favicons/site.webmanifest">
    
    
    <meta name="msapplication-config" content="/favicons/browserconfig.xml">
    
    
    <link rel="alternate" href="/atom.xml" title="解忧杂货店" type="application/atom+xml" />
    
    
    <link rel="shortcut icon" type="image/x-icon" href="/favicons/favicon.ico">
    
    
    <link rel="stylesheet" type="text/css" href="/css/normalize.css">
    <link rel="stylesheet" type="text/css" href="/css/index.css">
    
    <link rel="stylesheet" type="text/css" href="/css/sidebar.css">
    
    
<link rel="stylesheet" type="text/css" href="/css/page.css">
<link rel="stylesheet" type="text/css" href="/css/post.css">

    <link rel="stylesheet" type="text/css" href="/css/custom.css">
    <link rel="stylesheet" type="text/css" href="/css/atom-one-dark.css">
    <link rel="stylesheet" type="text/css" href="/css/lightgallery.min.css">
    <script type="text/javascript" src="/js/jquery.min.js"></script>
    <script defer type="text/javascript" src="/js/util.js"></script>
    <script defer type="text/javascript" src="/js/scrollspy.js"></script>
    <script defer type="text/javascript" src="/js/fontawesome-all.min.js"></script>
    <script defer type="text/javascript" src="/js/lightgallery.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-fullscreen.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-hash.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-pager.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-thumbnail.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-zoom.min.js"></script>
    
    <script defer src="/js/busuanzi.pure.mini.js"></script>
    
    
    <script defer type="text/javascript" src="/js/search.js"></script>
    <script type="text/javascript">
    $(document).ready(function () {
      var searchPath = "search.xml";
      if (searchPath.length === 0) {
        searchPath = "search.xml";
      }
      var path = "/" + searchPath;
      searchFunc(path, "search-input", "search-result");
    });
    </script>
    
    
    <script defer type="text/javascript" src="/js/index.js"></script>
    
    <script defer type="text/javascript" src="/js/custom.js"></script>
    <title>Docker中的容器数据卷 | 解忧杂货店 - 爱生活爱解忧</title>
  </head>
  <body itemscope itemtype="http://schema.org/WebPage" lang="zh_CN"  data-spy="scroll" data-target=".list-group">
    
<header id="header" class="header" style="background: #333333;">
  <div class="container">
    <div class="header-container">
      <div class="header-title">
        <h1 class="title"><a href="/">解忧杂货店</a></h1>
        <h2 class="subtitle">爱生活爱解忧</h2>
      </div>
      
      <div class="logo">
        <img src="/images/logo.png" alt="logo">
      </div>
      
    </div>
    <nav id="nav" class="nav">
      <a id="nav-toggle" class="nav-toggle" aria-hidden="true"><i class="fas fa-bars" aria-label="切换导航栏"></i></a>
      <ul id="menu" role="menubar" aria-hidden="false">
        
        <li role="menuitem"><a href="/">首页</a></li>
        
        <li role="menuitem"><a href="/archives/">归档</a></li>
        
        <li role="menuitem"><a href="/categories/">分类</a></li>
        
        <li role="menuitem"><a href="/tags/">标签</a></li>
        
        <li role="menuitem"><a href="/about/">关于</a></li>
        
      </ul>
    </nav>
  </div>
</header>


    <main id="main" class="main">
      <div class="container">
        <div class="main-container">
          <div class="content">
            
<div id="post" class="page">
  
  <article class="article post card animate" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="http://liuzhuo19940206.github.io/2019/01/10/Docker中的容器数据卷/">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
       <meta itemprop="name" content="刘卓">
       <meta itemprop="description" content="hello,every body!">
       <meta itemprop="image" content="/images/avatar.jpg">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
       <meta itemprop="name" content="解忧杂货店">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">Docker中的容器数据卷</h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2019-01-10T22:11:15+08:00">2019-01-10 22:11:15</time></span>
        </span>
        
        
        
        <span class="post-meta-divider divider">|</span>
        
        <span class="post-categories">
          
          <i class="far fa-folder-open"></i><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/docker/" itemprop="url" rel="index"><span itemprop="name">docker</span></a></span><i class="fas fa-angle-right"></i><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/docker/容器/" itemprop="url" rel="index"><span itemprop="name">容器</span></a></span>
        </span>
        
        
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      <p>Docker中的容器数据卷，我们知道redis是一个内存数据库，为啥，退出后，下次重启后，数据库中还有之前的数据呢？因为有rdb和aof持久化。<br>因此，Docker中的容器数据卷，也是为了将容器中的数据，保存到宿主机中的技术，防止容器停止后，数据丢失。<br><a id="more"></a></p>
<h2 id="数据卷是什么"><a href="#数据卷是什么" class="headerlink" title="数据卷是什么"></a>数据卷是什么</h2><p>先来看看Docker的理念：</p>
<ul>
<li><p>将应用与运行的环境打包形成容器运行 ，运行可以伴随着容器，但是我们对数据的要求希望是持久化的</p>
</li>
<li><p>容器之间希望有可能共享数据</p>
</li>
</ul>
<p>Docker容器产生的数据，如果不通过docker commit生成新的镜像，使得数据做为镜像的一部分保存下来，那么当容器删除后，数据自然也就没有了。</p>
<p>为了能保存在docker中的数据，我们使用卷。</p>
<h2 id="数据卷能干嘛"><a href="#数据卷能干嘛" class="headerlink" title="数据卷能干嘛"></a>数据卷能干嘛</h2><p>卷就是目录或文件，存在于一个或多个容器中，由docker挂载到容器，但不属于联合文件系统，因此能够绕过Union File System提供一些用于持续存储或共享数据的特性。</p>
<p>卷的设计目的就是数据的持久化，完全独立于容器的生存周期，因此Docker不会在容器删除时删除其挂载的数据卷。</p>
<p>特点：</p>
<p>1：数据卷可在容器之间共享或重用数据<br>2：卷中的更改可以直接生效<br>3：数据卷中的更改不会包含在镜像的更新中<br>4：数据卷的生命周期一直持续到没有容器使用它为止</p>
<h2 id="使用数据卷"><a href="#使用数据卷" class="headerlink" title="使用数据卷"></a>使用数据卷</h2><p>容器内添加，有两种方式：</p>
<ul>
<li><p>直接命令添加</p>
</li>
<li><p>DockerFile添加</p>
</li>
</ul>
<h3 id="直接命令添加"><a href="#直接命令添加" class="headerlink" title="直接命令添加"></a>直接命令添加</h3><p><strong><code>docker run -it -v /宿主机绝对路径目录:/容器内目录   镜像名</code></strong><br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs undefined">这里主要就是添加了一个 -v 的选项参数。<br></code></pre></td></tr></table></figure></p>
<p>现在，我们来正式演示一遍：</p>
<p><strong>在宿主机的根目录下创建：mydataVolume目录。</strong></p>
<p>然后使用：<code>docker run -it -v /mydataVolume:/dataVolumeContainer centos /bin/bash</code> 将两者挂载在一起，实现数据共享。</p>
<p>该命令会帮我们以交换式的方式启动centos容器，然后会自动帮我们在centos的根目录下创建：dataVolumeContainer目录。</p>
<p><img src="/images/QQ截图20190111112831.png"><br><img src="/images/QQ截图20190111113633.png"></p>
<p><strong>查看数据卷是否挂载成功：</strong></p>
<p><code>docker inspect 容器ID</code><br><img src="/images/QQ截图20190111113940.png"><br><img src="/images/QQ截图20190111114243.png"><br><img src="/images/QQ截图20190111114421.png"></p>
<p>出现上面的信息，说明挂载数据卷成功。</p>
<hr>
<p><strong>宿主机与容器之间数据共享：</strong></p>
<p>在宿主机中的：mydataVolume目录下：创建一个host.txt文件，随便编写一些数据。</p>
<p><img src="/images/QQ截图20190111114942.png"><br><img src="/images/QQ截图20190111115028.png"><br><img src="/images/QQ截图20190111115109.png"></p>
<p>在centos容器中，查看：dataVolumeContainer目录下，是否存在host.txt，并且里面有数据：<br><img src="/images/QQ截图20190111115709.png"></p>
<p>瞬间懵逼了，后来发现：我是宿主机的root目录下创建的：mydataVolume，然后在该目录下创建的host.txt文件，当然是无法共享的呀。</p>
<p>因为，<code>docker run -it -v /mydataVolume:/dataVolumeContainer centos /bin/bash</code> <strong>是宿主机的根目录下创建：mydataVolume ！！！！</strong></p>
<p>现在，在宿主机下，切换到根目录下，发现mydataVolume目录已经存在了，说明执行了：<code>docker run -it -v /mydataVolume:/dataVolumeContainer centos /bin/bash</code> 命令后，会自动帮我们创建这两个共享的目录。</p>
<p><img src="/images/QQ截图20190111120217.png"><br><img src="/images/QQ截图20190111120316.png"><br><img src="/images/QQ截图20190111120500.png"></p>
<p>那，在容器下，创建新的文件，修改旧的文件，在宿主机中能更新吗？ 能，数据卷是互相共享的。<br><img src="/images/QQ截图20190111120811.png"><br><img src="/images/QQ截图20190111120941.png"></p>
<hr>
<p><strong>那么，容器退出后，在宿主机中修改数据，等到原来的容器再次启动时，数据是否会同步呢？</strong><br><img src="/images/QQ截图20190111121222.png"><br><img src="/images/QQ截图20190111121327.png"></p>
<p>接着，在宿主机中，修改host.txt文件中的内容：<br><img src="/images/QQ截图20190111121514.png"></p>
<p>启动，<strong>原先的</strong>centos容器：</p>
<p><code>docker start 容器的ID</code><br><img src="/images/QQ截图20190111121959.png"></p>
<p>进入centos容器内部：</p>
<p><code>docker attach 容器ID</code><br><img src="/images/QQ截图20190111122237.png"></p>
<p>上面就是，宿主机与容器之间的数据卷共享，可读可写。</p>
<hr>
<p><strong>那么，可不可以，只能宿主机可读可写，而容器只读呢？ 可以的。</strong></p>
<p><code>docker run -it -v /宿主机绝对路径目录:/容器内目录:ro 镜像名</code></p>
<p>请看，上面命令，只是下后面加了一个 <code>:ro</code> , ro : readonly的意思，只读。<br><img src="/images/QQ截图20190111122815.png"><br><img src="/images/QQ截图20190111123127.png"><br><img src="/images/QQ截图20190111123217.png"></p>
<p>使用 <code>docker inspect 容器ID</code><br><img src="/images/QQ截图20190111123350.png"><br><img src="/images/QQ截图20190111123441.png"><br><img src="/images/QQ截图20190111123526.png"></p>
<hr>
<h3 id="使用DockerFile添加"><a href="#使用DockerFile添加" class="headerlink" title="使用DockerFile添加"></a>使用DockerFile添加</h3><p>这里，不会讲太多的DockerFile的知识，只是简单带大家了解一下，使用DockerFile来数据共享，下篇文章，我会继续带大家进行DockerFile的探索。</p>
<p><strong>第一步：在宿主机的根目录下，创建mydocker文件夹并进入：</strong><br><img src="/images/QQ截图20190111135831.png"></p>
<p>可在 Dockerfile中 使用 <strong>VOLUME指令</strong> 来给镜像添加一个或多个数据卷。</p>
<p><code>VOLUME[&quot;/dataVolumeContainer&quot;,&quot;/dataVolumeContainer2&quot;,&quot;/dataVolumeContainer3&quot;]</code></p>
<p>说明：</p>
<p>出于 <strong>可移植</strong> 和 <strong>分享</strong> 的考虑，用 -v <strong>主机目录:容器目录</strong> 这种方法不能够直接在Dockerfile中实现。</p>
<p>由于宿主机目录是依赖于特定宿主机的，并不能够保证在所有的宿主机上都存在这样的特定目录。</p>
<p>所以，使用DockerFile来进行数据卷的共享时，不需要创建宿主机的共享目录，只需要确定容器内的共享目录即可，这是与使用 -v 命令的区别所在。</p>
<p>那么，什么是DockerFile文件呢？ 这里还是带大家简单了解一下：</p>
<p>打开docker hub的官网，随便搜索一个镜像，比如tomcat：<br><img src="/images/QQ截图20190111141044.png"><br><img src="/images/QQ截图20190111141140.png"><br><img src="/images/QQ截图20190111141243.png"></p>
<p>简单来看一下：最上面是基于jdk1.8的镜像来生成tomcat镜像的，所以tomcat镜像文件才几百兆，不想在windows中下在一个tomcat几十兆那么小，因为tomcat镜像中包括了jdk的运行环境等，所以比较大。</p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs undefined">EVN :  配置环境变量的<br>EXPOSE 8080   ：配置暴露的端口号<br>CMD [&quot;catalina.sh&quot;, &quot;run&quot;]  ：运行镜像最外层的可写的那层<br></code></pre></td></tr></table></figure>
<p>使用Dockerfile来数据卷的共享，就是编写一个Dockerfile文件，然后使用这个Dockerfile来生成新的镜像。这里只是简单了解一下。</p>
<p><strong>第二步，在mydocker文件夹下，编写dockerfile文件：</strong><br><img src="/images/QQ截图20190111141828.png"></p>
<p>在dockerfile中：<br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs undefined"># volume test<br>FROM centos                                               #相当于继承centos镜像<br>VOLUME [&quot;/dataVolumeContainer1&quot;,&quot;/dataVolumeContainer2&quot;]  #配置数据卷容器内的目录，可以是多个<br>CMD echo &quot;finished,--------success1&quot;                      #CMD执行命令，这里是简单测试语句<br>CMD /bin/bash                                             #执行 /bin/bash 命令，进入终端<br></code></pre></td></tr></table></figure></p>
<p><img src="/images/QQ截图20190111142130.png"><br><img src="/images/QQ截图20190111142226.png"></p>
<p><strong>第三步，build我们的dockerfile文件，生成镜像</strong></p>
<p><code>docker build -f /mydocker/dockerfile -t liuzhuo/centos .</code><br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs undefined">-f：     dockerfile文件的路径<br>-t：     命名空间/镜像名称<br><br>注意：最后有一个 空格 + 点<br></code></pre></td></tr></table></figure></p>
<p><img src="/images/QQ截图20190111142918.png"><br><img src="/images/QQ截图20190111143207.png"></p>
<p><strong>第四步，查看有没有生成新的镜像</strong><br><img src="/images/QQ截图20190111143325.png"></p>
<p><strong>第五步，启动新的镜像</strong><br><img src="/images/QQ截图20190111143523.png"></p>
<p><strong>通过上述步骤，容器内的卷目录地址已经知道，对应的主机目录地址哪？？</strong></p>
<p>使用 <code>docker inspect 容器id</code> 来查看宿主机的目录地址：<br><img src="/images/QQ截图20190111143950.png"><br><img src="/images/QQ截图20190111144227.png"></p>
<p>这里，我就使用 <strong>/dataVolumeContainer1</strong> 对应的宿主机的地址来演示了<br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs undefined">/var/lib/docker/volumes/ef6a4b962d138913b14a43750d12c1a553c2837c34481ff732796e79e62203b3/_data<br></code></pre></td></tr></table></figure></p>
<p><img src="/images/QQ截图20190111144408.png"></p>
<p>创建新的文件，container.txt<br><img src="/images/QQ截图20190111144609.png"></p>
<p>然后在，容器中查看是否有：container.txt<br><img src="/images/QQ截图20190111144609.png"><br><img src="/images/QQ截图20190111144738.png"></p>
<hr>
<p><strong>备注:</strong></p>
<p>Docker挂载主机目录Docker访问出现 cannot open directory . : Permission denied</p>
<p><strong>解决办法：在挂载目录后多加一个 –privileged=true 参数即可。</strong></p>
<p>即：<code>docker run -it -v /mydataVolume:/dataVolumeContainer --privileged=true centos /bin/bash</code></p>
<p>一般情况下，是不会出现这样的问题的。</p>
<h2 id="数据卷容器"><a href="#数据卷容器" class="headerlink" title="数据卷容器"></a>数据卷容器</h2><h3 id="数据卷容器是什么"><a href="#数据卷容器是什么" class="headerlink" title="数据卷容器是什么"></a>数据卷容器是什么</h3><p>命名的容器 挂载 数据卷后，<strong>其它容器</strong> 通过 挂载这个(父容器)实现数据共享，挂载数据卷的容器，称之为数据卷容器。</p>
<h3 id="总体介绍"><a href="#总体介绍" class="headerlink" title="总体介绍"></a>总体介绍</h3><p>使用上面的：liuzhuo/centos 为模板，运行三个容器：doc01、doc02、doc03。</p>
<p>它们三个容器本身都具有两个容器卷：<code>/dataVolumeContainer1</code> 和 <code>/dataVolumeContainer2</code></p>
<h3 id="容器间传递共享"><a href="#容器间传递共享" class="headerlink" title="容器间传递共享"></a>容器间传递共享</h3><p><strong>1.先启动一个父容器doc01</strong></p>
<p><code>docker run -it --name doc01 liuzhuo/centos</code><br><img src="/images/QQ截图20190111145928.png"></p>
<p>在 /dataVolumeContainer2 中：添加新的文件：doc01.txt<br><img src="/images/QQ截图20190111150102.png"></p>
<p><strong>2.将doc02、doc03容器都继承自doc01</strong></p>
<p><code>docker run -it --name doc02 --volumes-from doc01 liuzhuo/centos</code></p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs undefined">--volumes-from  :  继承自哪个容器<br></code></pre></td></tr></table></figure>
<p><img src="/images/QQ截图20190111150614.png"></p>
<p>查看：/dataVolumeContainer2 目录：<br><img src="/images/QQ截图20190111150750.png"></p>
<p>在doc02中的 /dataVolumeContainer2 目录下：创建新的文件：doc02.txt<br><img src="/images/QQ截图20190111150908.png"></p>
<p>接着：<code>docker run -it --name doc03 --volumes-from doc01 liuzhuo/centos</code></p>
<p><img src="/images/QQ截图20190111151244.png"></p>
<p>查看：/dataVolumeContainer2 目录：<br><img src="/images/QQ截图20190111151340.png"></p>
<p>在doc03中的 /dataVolumeContainer2 目录下：创建新的文件：doc03.txt<br><img src="/images/QQ截图20190111151826.png"></p>
<p>大家到此，有没有觉得疑惑呢？ 明明doc03 只是继承 doc01 ，为啥连doc02的文件也共享了呢？这就是docker强大之处，其实就像一个网状结构一样，doc03 继承 doc01，而 doc01 与 doc02 互通，所以 doc02 与 doc03 也就互通了。</p>
<hr>
<p><strong>回到doc01，可以看到doc02、doc03创建的文件</strong><br><img src="/images/QQ截图20190111151937.png"></p>
<p><strong>删除doc01，doc02修改doc02.txt文件，doc03中能检查到文件发生改变</strong></p>
<p><img src="/images/QQ截图20190111152312.png"><br><img src="/images/QQ截图20190111152540.png"><br><img src="/images/QQ截图20190111152655.png"></p>
<p>验证了，虽然 doc03 继承与 doc01 ，现在将 doc01 停止了，但是还能与 doc02 互通。（网状结构）</p>
<p><strong>删除doc02后，doc03能否访问</strong><br><img src="/images/QQ截图20190111153020.png"><br><img src="/images/QQ截图20190111153116.png"></p>
<p>现在，在doc03中，再添加一个新的文件：doc03_update.txt<br><img src="/images/QQ截图20190111153248.png"></p>
<p><strong>新建doc04容器，删除doc03容器</strong></p>
<p><img src="/images/QQ截图20190111153938.png"><br><img src="/images/QQ截图20190111154035.png"><br><img src="/images/QQ截图20190111154132.png"><br><img src="/images/QQ截图20190111154226.png"></p>
<hr>
<p><strong>结论：</strong></p>
<p><strong><font color="red">容器之间 配置信息的传递，数据卷的生命周期 一直持续到 没有容器使用它为止。</font></strong></p>

    </main>
    <footer class="post-footer">
      
      <div class="post-tags">
        
        <a class="post-tag button" href="/tags/docker/" rel="tag"><i class="fas fa-tags"></i>docker</a>
        
        <a class="post-tag button" href="/tags/容器/" rel="tag"><i class="fas fa-tags"></i>容器</a>
        
      </div>
      
    </footer>
  </article>
  
  
<div class="reward" id="reward">
  <p>坚持原创技术分享，您的支持是我前进的动力！</p>
  <button id="reward-button" class="button" disable="enable">打赏</button>
  <div id="qr" class="qr" style="display: none;" aria-hidden="true">
    
    <div id="wechat">
      <img id="wechat_qr" src="/images/WeChatPay.png" alt="微信支付"/>
      <span>微信支付</span>
    </div>
    
    
    <div id="alipay">
      <img id="alipay_qr" src="/images/AliPay.png" alt="支付宝"/>
      <span>支付宝</span>
    </div>
    
    
  </div>
</div>


  
  
  <nav class="page-nav">
    <div class="page-nav-next page-nav-item">
      
      <a href="/2019/01/10/Docker的镜像原理/" rel="next" title="Docker的镜像原理"><i class="fas fa-angle-left"></i><span class="nav-title">Docker的镜像原理</span></a>
      
    </div>
    <div class="page-nav-prev page-nav-item">
      
      <a href="/2019/01/11/Docker中的Dockerfile解析/" rel="prev" title="Docker中的Dockerfile解析"><span class="nav-title">Docker中的Dockerfile解析</span><i class="fas fa-angle-right"></i></a>
      
    </div>
  </nav>
  
  
  

<div class="comments" id="comments">
  
  
  <div class="commentjs" id="comment-thread"></div>
  <link rel="stylesheet" href="/css/commentjs.css">
  <script defer type="text/javascript" src="/js/marked.min.js"></script>
  <script defer type="text/javascript" src="/js/timeago.min.js"></script>
  <script defer type="text/javascript" src="/js/highlight.min.js"></script>
  <script defer type="text/javascript" src="/js/commentjs.js"></script>
  <script type="text/javascript">
  $(document).ready(function () {
    getComments({
      "type": "github",
      "user": "liuzhuo19940206",
      "repo": "liuzhuo19940206.github.io",
      "client_id": "d67adf7d637efbea7a69",
      "client_secret": "e3958a48de708ffda0c1ff603f8b48793d43d1ae",
      "no_comment": "这个页面还没有评论，现在就去评论吧！",
      "go_to_comment": "去评论",
      "issue_title": "Docker中的容器数据卷",
      "btn_class": "button",
      "comments_target": "#comment-thread"
    });
    marked.setOptions({
      "highlight": function (code, lang) {
        return hljs.highlightAuto(code).value;
      }
    });
    function mark() {
      var markdowns = document.getElementsByClassName("markdown");
      for (var i = 0; i < markdowns.length; ++i){
        if (markdowns[i].innerHTML) {
          markdowns[i].innerHTML = marked(markdowns[i].innerHTML);
        }
      }
    }
    window.addEventListener("DOMContentLoaded", mark, false);
    window.addEventListener("load", mark, false);
  });
  </script>
  
  
</div>



  
</div>

          </div>
          
          
          
<aside class="sidebar" id="sidebar" style="background: url(/images/background.png);">
  
  <div class="search">
    <div class="form-group">
      <i class="fas fa-search"></i><input type="search" id="search-input" name="q" results="0" placeholder="搜索" class="form-control"/>
    </div>
  </div>
  <div class="search-result-box" id="search-result"></div>
  
  
<div class="info sidebar-item" id="info">
  
  <img class="author-avatar" src="/images/avatar.jpg" alt="刘卓">
  
  <h1 class="author-name">刘卓</h1>
  <h2 class="author-description">hello,every body!</h2>
  <div class="site-count">
    
    <div class="archives-count">
      <div class="site-count-title">归档</div>
      <div><a href="/archives/">103</a></div>
    </div>
    
    
    
    <span class="site-count-divider divider">|</span>
    
    <div class="categories-count">
      <div class="site-count-title">分类</div>
      <div><a href="/categories/">51</a></div>
    </div>
    
    
    
    <span class="site-count-divider divider">|</span>
    
    <div class="tags-count">
      <div class="site-count-title">标签</div>
      <div><a href="/tags/">39</a></div>
    </div>
    
  </div>
  
  <div class="rss">
    <a class="rss-link button sidebar-item" href="https://weibo.com/p/1005053310889015/home" target="_blank"><i class="fas fa-rss"></i>Click</a>
  </div>
  
</div>


  <div class="sidebar-sticky">
    
    
    
    
    
    <hr>
    <div class="post-toc sidebar-item" id="toc-div">
      <div><i class="fas fa-list-ol"></i>文章目录</div>
      <div class="post-toc-content"><ol class="list-group toc"><li class="toc-item toc-level-2"><a class="list-group-item toc-link" href="#数据卷是什么"><span class="toc-text">数据卷是什么</span></a></li><li class="toc-item toc-level-2"><a class="list-group-item toc-link" href="#数据卷能干嘛"><span class="toc-text">数据卷能干嘛</span></a></li><li class="toc-item toc-level-2"><a class="list-group-item toc-link" href="#使用数据卷"><span class="toc-text">使用数据卷</span></a><ol class="list-group toc-child"><li class="toc-item toc-level-3"><a class="list-group-item toc-link" href="#直接命令添加"><span class="toc-text">直接命令添加</span></a></li><li class="toc-item toc-level-3"><a class="list-group-item toc-link" href="#使用DockerFile添加"><span class="toc-text">使用DockerFile添加</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="list-group-item toc-link" href="#数据卷容器"><span class="toc-text">数据卷容器</span></a><ol class="list-group toc-child"><li class="toc-item toc-level-3"><a class="list-group-item toc-link" href="#数据卷容器是什么"><span class="toc-text">数据卷容器是什么</span></a></li><li class="toc-item toc-level-3"><a class="list-group-item toc-link" href="#总体介绍"><span class="toc-text">总体介绍</span></a></li><li class="toc-item toc-level-3"><a class="list-group-item toc-link" href="#容器间传递共享"><span class="toc-text">容器间传递共享</span></a></li></ol></li></ol></div>
    </div>
    
    
    
    <hr>
    <div class="social-link sidebar-item">
      <div><i class="far fa-address-card"></i>社交链接</p></div>
      <ul>
        
        <li><i class="fas fa-envelope"></i><a href="mailto:575920824@qq.com" target="_blank">E-Mail</a></li>
        
        <li><i class="fab fa-github"></i><a href="https://github.com/liuzhuo19940206" target="_blank">GitHub</a></li>
        
        <li><i class="fab fa-weibo"></i><a href="https://weibo.com/p/1005053310889015/home" target="_blank">Weibo</a></li>
        
      </ul>
    </div>
    
    
    <hr>
    <div class="blogroll sidebar-item">
      <div><i class="fas fa-link"></i>友情链接</div>
      <ul>
        
        <li><i class="fas fa-link"></i><a href="http://gakkij.top" target="_blank">Gakki酱</a></li>
        
        <li><i class="fas fa-link"></i><a href="https://github.com/" target="_blank">GitHub</a></li>
        
        <li><i class="fas fa-link"></i><a href="https://dev.tencent.com/user" target="_blank">Coding</a></li>
        
        <li><i class="fas fa-link"></i><a href="https://developer.mozilla.org/" target="_blank">MDN</a></li>
        
        <li><i class="fas fa-link"></i><a href="https://mozilla.github.io/nunjucks/" target="_blank">Nunjucks</a></li>
        
      </ul>
    </div>
    
  </div>
</aside>


          
        </div>
      </div>
    </main>
    
<footer id="footer" class="footer" style="background: #333333;">
  <div class="container">
    <div class="back-to-top">
      <button id="back-to-top"><i class="fas fa-angle-double-up" aria-label="回到顶部"></i></button>
    </div>
    <div class="footer-container">
      <div class="footer-left">
        <div class="copyright">
          <span class="author">刘卓</span><span class="year"><i class="far fa-copyright"></i>2018/10/10 - 2019</span>
        </div>
        
        <div class="busuanzi">
          <span id="busuanzi_container_site_pv"><i class="fas fa-eye" aria-label="站点点击量" aria-hidden="false"></i><span id="busuanzi_value_site_pv"></span></span><span id="busuanzi_container_site_uv"><i class="fas fa-user" aria-label="站点用户数" aria-hidden="false"></i><span id="busuanzi_value_site_uv"></span></span><span id="busuanzi_container_page_pv"><i class="far fa-file-alt"></i><span id="busuanzi_value_page_pv" aria-label="页面点击量" aria-hidden="false"></span></span>
        </div>
        
      </div>
      <div class="footer-right">
        <div class="custom-info">
          
          托管于<i class="fab fa-github-alt"></i><a href="https://github.com/liuzhuo19940206/liuzhuo19940206.github.io" target="_blank">GitHub Pages</a>
          
        </div>
        <div class="powered-by">
          由 <a href="https://hexo.io/" target="_blank">Hexo</a> 强力驱动 
        </div>
      </div>
    </div>
  </div>
</footer>
<script>
(function(){
    var bp = document.createElement('script');
    bp.src = '//push.zhanzhang.baidu.com/push.js';
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  </body>
</html>
