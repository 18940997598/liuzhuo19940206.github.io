<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#333333">
    <meta name="msapplication-TileColor" content="#333333">
    
    
    
    <meta name="keywords" content="Life, ARIA, Hexo, liuzhuo, Cakki, gakki">
    
    
    <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
    
    
    <link rel="icon" type="image/png" sizes="192x192" href="/favicons/android-chrome-192x192.png">
    
    
    <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
    
    
    <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
    
    
    <link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#333333">
    
    
    <link rel="manifest" href="/favicons/site.webmanifest">
    
    
    <meta name="msapplication-config" content="/favicons/browserconfig.xml">
    
    
    <link rel="alternate" href="/atom.xml" title="解忧杂货店" type="application/atom+xml" />
    
    
    <link rel="shortcut icon" type="image/x-icon" href="/favicons/favicon.ico">
    
    
    <link rel="stylesheet" type="text/css" href="/css/normalize.css">
    <link rel="stylesheet" type="text/css" href="/css/index.css">
    
    <link rel="stylesheet" type="text/css" href="/css/sidebar.css">
    
    
<link rel="stylesheet" type="text/css" href="/css/page.css">
<link rel="stylesheet" type="text/css" href="/css/post.css">

    <link rel="stylesheet" type="text/css" href="/css/custom.css">
    <link rel="stylesheet" type="text/css" href="/css/atom-one-dark.css">
    <link rel="stylesheet" type="text/css" href="/css/lightgallery.min.css">
    <script type="text/javascript" src="/js/jquery.min.js"></script>
    <script defer type="text/javascript" src="/js/util.js"></script>
    <script defer type="text/javascript" src="/js/scrollspy.js"></script>
    <script defer type="text/javascript" src="/js/fontawesome-all.min.js"></script>
    <script defer type="text/javascript" src="/js/lightgallery.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-fullscreen.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-hash.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-pager.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-thumbnail.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-zoom.min.js"></script>
    
    <script defer src="/js/busuanzi.pure.mini.js"></script>
    
    
    <script defer type="text/javascript" src="/js/search.js"></script>
    <script type="text/javascript">
    $(document).ready(function () {
      var searchPath = "search.xml";
      if (searchPath.length === 0) {
        searchPath = "search.xml";
      }
      var path = "/" + searchPath;
      searchFunc(path, "search-input", "search-result");
    });
    </script>
    
    
    <script defer type="text/javascript" src="/js/index.js"></script>
    
    <script defer type="text/javascript" src="/js/custom.js"></script>
    <title>Mybatis代码生成器 | 解忧杂货店 - 爱生活爱解忧</title>
  </head>
  <body itemscope itemtype="http://schema.org/WebPage" lang="zh_CN"  data-spy="scroll" data-target=".list-group">
    
<header id="header" class="header" style="background: #333333;">
  <div class="container">
    <div class="header-container">
      <div class="header-title">
        <h1 class="title"><a href="/">解忧杂货店</a></h1>
        <h2 class="subtitle">爱生活爱解忧</h2>
      </div>
      
      <div class="logo">
        <img src="/images/logo.png" alt="logo">
      </div>
      
    </div>
    <nav id="nav" class="nav">
      <a id="nav-toggle" class="nav-toggle" aria-hidden="true"><i class="fas fa-bars" aria-label="切换导航栏"></i></a>
      <ul id="menu" role="menubar" aria-hidden="false">
        
        <li role="menuitem"><a href="/">首页</a></li>
        
        <li role="menuitem"><a href="/archives/">归档</a></li>
        
        <li role="menuitem"><a href="/categories/">分类</a></li>
        
        <li role="menuitem"><a href="/tags/">标签</a></li>
        
        <li role="menuitem"><a href="/about/">关于</a></li>
        
      </ul>
    </nav>
  </div>
</header>


    <main id="main" class="main">
      <div class="container">
        <div class="main-container">
          <div class="content">
            
<div id="post" class="page">
  
  <article class="article post card animate" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="http://liuzhuo19940206.github.io/2019/03/17/Mybatis代码生成器/">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
       <meta itemprop="name" content="刘卓">
       <meta itemprop="description" content="hello,every body!">
       <meta itemprop="image" content="/images/avatar.jpg">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
       <meta itemprop="name" content="解忧杂货店">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">Mybatis代码生成器</h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2019-03-17T09:46:35+08:00">2019-03-17 09:46:35</time></span>
        </span>
        
        
        
        <span class="post-meta-divider divider">|</span>
        
        <span class="post-categories">
          
          <i class="far fa-folder-open"></i><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/mybatis/" itemprop="url" rel="index"><span itemprop="name">mybatis</span></a></span>
        </span>
        
        
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      <p>MyBatis Generator：代码生成器，帮助我们自动生成基本的增、删、改、查的代码，方便我们开发，减少不必要的体力活动。<br><a id="more"></a></p>
<p>当数据库表的字段比较少的时候，写起来还能接受，一旦字段过多或者需要在很多表中写这些基本方法时，就会很麻烦，不仅需要很大的代码量，而且字段过多时很容易出现错误。</p>
<p>作为一个优秀的程序员，”懒”是很重要的优点。我们不仅要会写代码，还要会利用工具生成代码。Mybatis的开发团队提供了一个很强大的代码生成器——MyBatis Generator，后文中使用缩写MBG来代替。</p>
<p>MBG通过丰富的配置可以生成不同类型的代码，代码包含了数据库表对应的实体类、Mapper接口类、MapperXML文件和Example对象等，这些代码文件中几乎包含了全部的单表操作方法，使用MBG可以极大程度上方便我们使用MyBatis，还可以减少很多重复操作。</p>
<p>官方文档：<a href="http://www.mybatis.org/generator/" target="_blank" rel="noopener">http://www.mybatis.org/generator/</a></p>
<hr>
<h3 id="非图形化方式"><a href="#非图形化方式" class="headerlink" title="非图形化方式"></a>非图形化方式</h3><p>首先，我讲解官方推出的方式，<a href="https://github.com/mybatis/generator" target="_blank" rel="noopener">mybatis-generator</a>有三种用法：命令行、eclipse插件、maven插件。个人觉得maven插件最方便，可以在eclipse/intellij idea等ide上可以通用。</p>
<p>不管哪种方式，都需要学会MBG的xml配置文件，下面，我们来学习一下吧~~~</p>
<h4 id="XML配置详解"><a href="#XML配置详解" class="headerlink" title="XML配置详解"></a>XML配置详解</h4><p>首先按照MBG的要求添加XML的文件头：<br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs undefined">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;<br>&lt;!DOCTYPE generatorConfiguration<br>        PUBLIC &quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;<br>        &quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;&gt;<br></code></pre></td></tr></table></figure></p>
<p>在文件头之后，需要加上XML文件的根节点：<code>generatorConfiguration</code></p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs undefined">&lt;generatorConfiguration&gt;<br><br>	&lt;!--其他配置内容--&gt;<br><br>&lt;/generatorConfiguration&gt;<br></code></pre></td></tr></table></figure>
<p>以上两部分内容是MBG必备的基本信息，后面是MBG中的自定义配置部分。下面介绍 generatorConfiguration 标签下的 3 个子级标签</p>
<p>分别是：<code>properties</code>、<code>classPathEntry</code> 和 <code>context</code>。在配置这三个标签时，注意它们的顺序，必须和这里列举的顺序一致才行！！！</p>
<hr>
<p>第一个是properties标签。这个标签用来指定外部的属性元素，最多可以配置一个，也可以不配置。</p>
<p>properties标签用于指定一个需要在配置中解析使用的外部属性文件，引入属性文件后，可以在配置中使用 <code>${property}</code> 这种形式的引用，通过这种方式引用属性文件中的属性值，对于后面需要配置的JDBC信息会很有用。</p>
<p>properties标签包括 resource 和 url 两个属性，只能使用其中一个属性来指定，同时出现则会报错。</p>
<ul>
<li><p>resource：指定classpath下的属性文件，类似：com/liuzhuo/mybatis/generatorConfig.properties 这样的属性值。</p>
</li>
<li><p>url：指定文件系统上的特定位置，例如：file:///E:/myfolder/generatorConfig.properties</p>
</li>
</ul>
<hr>
<p>第二个是 classPathEntry 标签。这个标签可以配置多个，也可以不配置。</p>
<p>classPathEntry标签最常见的用法是通过属性 location指定驱动的路径，代码如下：</p>
<p><code>&lt;classPathEntry location=&quot;E:\mysql\mysql-connector-java-5.1.29.jar&quot;/&gt;</code></p>
<hr>
<p>第三个是 context 标签。这个标签是要重点讲解的，该标签至少配置一个，可以配置多个。</p>
<p>context标签用于指定生成一组对象的环境。例如指定要连接的数据库，要生成对象的类型和要处理的数据库中的表。运行MBG的时候还可以指定要运行的context。</p>
<p>context标签只有一个必选属性id，用来唯一确定该标签，该id属性可以运行MBG时使用。此外还有几个可选属性：</p>
<ul>
<li>defaultModelType：这个属性很重要，定义了MBG如何生成实体类。该属性可选值有：</li>
</ul>
<p>（1）conditional：默认值，和下面的 hierarchical 类似，如果一个表的主键只有一个字段，那么不会为该字段生成单独的实体类，而是会将该字段合并到基本实体类中。</p>
<p>（2）flat：该模型只为每张表生成一个实体类。这个实体类包含表中的所有字段。这种模型最简单，推荐使用。</p>
<p>（3）hierarchical：如果表有主键，那么该模型会产生一个单独的主键实体类，如果表还有BLOB字段，则会为表生成一个包含所有BLOB字段的单独的实体类，然后为所有其他的字段另外生成一个单独的实体类。MBG会在所有生成的实体类之间维护一个继承关系。</p>
<ul>
<li>targetRuntime：此属性用于指定生成的代码的运行环境，支持以下可选值</li>
</ul>
<p>（1）MyBatis3：默认值</p>
<p>（2）MyBatis3Simple：这种情况不会生成与Example相关的方法。</p>
<ul>
<li>introspecedColumnImpl：该参数可以指定扩展 org.mybatis.generator.api.Introspected Column类的实现类。</li>
</ul>
<hr>
<p>一般情况下，使用如下配置即可。</p>
<p><code>&lt;context id=&quot;Mysql&quot; defaultModeType=&quot;flat&quot;&gt;</code></p>
<hr>
<p>MBG配置中的其他几个标签基本上都是 context的子标签，这些子标签（有严格的配置顺序）包括以下几个：</p>
<ul>
<li><p>property（0个或多个）</p>
</li>
<li><p>plugin（0个或多个）</p>
</li>
<li><p>commentGenerator（0个或多个）</p>
</li>
<li><p>jdbcConnection（1个）</p>
</li>
<li><p>javaTypeResolver（0个或多个）</p>
</li>
<li><p>javaModelGenerator（1个）</p>
</li>
<li><p>sqlMapGenerator（0个或多个）</p>
</li>
<li><p>javaClientGenerator（0个或多个）</p>
</li>
<li><p>table（1个或多个）</p>
</li>
</ul>
<p>下面逐条介绍这些重要的标签。</p>
<hr>
<h5 id="property标签"><a href="#property标签" class="headerlink" title="property标签"></a>property标签</h5><p>在介绍property标签之前，先来了解一下数据库中的<strong>分隔符</strong>。</p>
<p>举一个简单的例子，假设数据库中有一个表，名为 <code>user info</code> ，注意这个名字，user 和 info 中间存在一个空格。如果直接写如下查询，在数据库执行这个查询时会报错。</p>
<p><code>select * from user info</code></p>
<p>可能会提示 <code>user</code> 表不存在或者user附件有语法错误，这种情况下该怎么写 <code>user info</code>表呢？</p>
<p>这时，就会用到<strong>分隔符</strong>了，在MySQL中可以使用反单引号 “ ` “ 作为分隔符，例如：</p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs undefined">`user info`<br></code></pre></td></tr></table></figure>
<p>在SQL Server中则是 [user info]。通过分隔符可以将其中的内容作为一个整体的字符串进行处理，当SQL中有数据库关键字时，使用反单引号括住关键字，可以避免数据库产生错误。</p>
<p>之所以先介绍分隔符，就是因为property标签中包含以下3个和分隔符相关的属性。</p>
<ul>
<li><p>autoDelimitKeywords</p>
</li>
<li><p>beginningDelimiter</p>
</li>
<li><p>endingDelimiter</p>
</li>
</ul>
<p>从名字可以看出，第一个是自动给关键字添加分隔符的属性。MBG中维护了一个关键字列表，当数据库中的字段或表与这些关键字一样时，MBG会自动给这些字段或表添加分隔符。关键字列表可以查看MBG中的 org.mybatis.generator.internal.db.SqlReservedWords类。</p>
<p>后面两个属性很简单，一个是配置前置分隔符的属性，一个是配置后置分隔符的属性。在MySQL中，两个分隔符都是 “ ` “，在SQL Server中分别为 “ [ “ 和 “ ] “。</p>
<p>MySQL中的property配置写法如下：<br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs undefined">&lt;context id=&quot;Mysql&quot; targetRuntime=&quot;MyBatis3&quot; defaultModelType=&quot;flat&quot;&gt;<br>   &lt;property name=&quot;autoDelimitKeywords&quot; value=&quot;true&quot;/&gt;<br>   &lt;property name=&quot;beginningDelimiter&quot; value=&quot;`&quot;/&gt;<br>   &lt;property name=&quot;endingDelimiter&quot; value=&quot;`&quot;/&gt;<br><br>   &lt;!--其他配置--&gt;<br>&lt;/context&gt;<br></code></pre></td></tr></table></figure></p>
<p>除了上面3个和分隔符相关的属性外，还有以下3个属性。</p>
<ul>
<li><p>javaFileEncoding</p>
</li>
<li><p>javaFormatter</p>
</li>
<li><p>xmlFormatter</p>
</li>
</ul>
<p>属性 javaFileEncoding 设置要使用的Java文件的编码，例如 GBK 或 UTF-8。默认使用当前运行环境的编码。后面的不常用，就不介绍了。</p>
<hr>
<h5 id="plugin标签"><a href="#plugin标签" class="headerlink" title="plugin标签"></a>plugin标签</h5><p>plugin标签可以配置0个或多个，个数不受限制。</p>
<p>plugin标签用来定义一个插件，用于扩展或修改通过MBG生成的代码。该插件将按照在配置中的顺序执行。MBG插件使用的情况并不多，如果对开发插件有兴趣，可以参考MBG文档，或者参考下面要介绍的缓存插件的例子，这个例子包含在MBG插件中。</p>
<p>下面要介绍的缓存插件的全限定名称为： org.mybatis.generator.plugins.CachePlugin。</p>
<p>这个插件可以在生成的SQL XML映射文件中增加一个 cache 标签。只有当targetRuntime 为 MyBatis3时，该插件才有效。</p>
<p>该插件接受下列可选属性。</p>
<ul>
<li><p>cache_eviction</p>
</li>
<li><p>cache_flushInterval</p>
</li>
<li><p>cache_readOnly</p>
</li>
<li><p>cache_size</p>
</li>
<li><p>cache_type</p>
</li>
</ul>
<p>配置方法如下：<br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs undefined">&lt;plugin type=&quot;org.mybatis.generator.plugins.CachePlugin&quot;&gt;<br>   <br>   &lt;property name=&quot;cache_eviction&quot; value=&quot;LRU&quot;/&gt;<br>   &lt;property name=&quot;cache_size&quot; value=&quot;1024&quot;/&gt;<br><br>&lt;/plugin&gt;<br></code></pre></td></tr></table></figure></p>
<p>添加这个配置后，生成的Mapper.xml文件中会增加如下的缓存相关配置。<br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs undefined">&lt;cache eviction=&quot;LRU&quot; size=&quot;1024&quot;&gt;<br><br>&lt;/cache&gt;<br></code></pre></td></tr></table></figure></p>
<hr>
<h5 id="commentGenerator标签"><a href="#commentGenerator标签" class="headerlink" title="commentGenerator标签"></a>commentGenerator标签</h5><p>该标签用来配置如何生成注释信息，最多可以配置1个。</p>
<p>该标签有一个可选属性 type，可以指定用户的实现类，该类需要实现 org.mybatis.generator.api.CommentGenerator接口，而且必有一个默认空的构造方法。</p>
<p>type属性接收默认的特殊值：DEFAULT，使用默认的实现类 org.mybatis.generator.internal.DefaultCommentGenerator。</p>
<p>默认的实现类中提供了三个可选属性，需要通过property属性进行配置。</p>
<ul>
<li><p>suppressAllComments：阻止生成注释，默认为false。</p>
</li>
<li><p>suppressDate：阻止生成的注解包含时间戳，默认为false。</p>
</li>
<li><p>addRemarkComments：注释是否添加数据库表的备注信息，默认为false。</p>
</li>
</ul>
<p>一般情况下，由于MBG生成的注解信息没有任何价值，而且时间戳的情况下每次生成的注释都不一样，使用版本控制的时候每次都会提交，因而一般情况下都会屏蔽注释信息，可以如下配置：<br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs undefined">&lt;commentGenerator&gt;<br><br>   &lt;property name=&quot;suppressDate&quot; value=&quot;true&quot;/&gt;<br>   &lt;property name=&quot;addRemarkComments&quot; value=&quot;true&quot;/&gt;<br><br>&lt;/commentGenerator&gt;<br></code></pre></td></tr></table></figure></p>
<h5 id="jdbcConnection标签"><a href="#jdbcConnection标签" class="headerlink" title="jdbcConnection标签"></a>jdbcConnection标签</h5><p>jdbcConnection标签用于指定MBG要连接的数据库信息，该标签必选，并且只能有一个。</p>
<p>配置该标签需要注意，如果JDBC驱动不在classpath下，就要通过 classPathEntry 标签引入 jar 包，这里推荐将jar包放到classpath下，或者参考前面classPathEntry配置的JDBC驱动的方法。</p>
<p>该标签有两个必选属性。</p>
<ul>
<li><p>driverClass：访问数据库的JDBC驱动程序的完全限定类名。</p>
</li>
<li><p>connectionURL：访问数据库的JDBC连接URL。</p>
</li>
</ul>
<p>该标签还有两个可选属性。</p>
<ul>
<li><p>userId：访问数据库的用户ID。</p>
</li>
<li><p>password：访问数据库的密码。</p>
</li>
</ul>
<p>此外，该标签还可以接受多个property子标签，这里配置的property属性都会添加到JDBC驱动的属性中（使用property标签的name属性反射赋值）。</p>
<p>这个标签配置起来非常容易，基本配置如下：<br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs undefined">&lt;jdbcConnection driverClass=&quot;com.mysql.jdbc.Driver&quot;<br>                connectionURL=&quot;jdbc:mysql://localhost:3306/mybatis&quot;<br>                userId=&quot;root&quot;<br>                password=&quot;&quot;&gt;<br>&lt;/jdbcConnection&gt;<br></code></pre></td></tr></table></figure></p>
<p>Oracle的配置：<br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs undefined">&lt;jdbcConnection driverClass=&quot;oracle.jdbc.driver.OracleDriver&quot;<br>                connectionURL=&quot;jdbc:oracle:thin:@//localhost:1521/oracle&quot;<br>                userId=&quot;mybatis&quot;<br>                password=&quot;mybatis&quot;&gt;<br>    &lt;property name=&quot;remarksReporting&quot; value=&quot;true&quot;/&gt;<br>&lt;/jdbcConnection&gt;<br></code></pre></td></tr></table></figure></p>
<h5 id="javaTypeResolver标签"><a href="#javaTypeResolver标签" class="headerlink" title="javaTypeResolver标签"></a>javaTypeResolver标签</h5><p>该标签的配置用来指定 <code>JDBC类型</code> 和 <code>Java类型</code> 如何转换，最多可以配置一个。</p>
<p>该标签提供了一个可选的属性type。另外，和commentGenerator类似，该标签提供了默认的实现 DEFAULT ，一般情况下使用默认即可，需要特殊处理的情况可以通过其他标签配置来解决，不建议修改该属性。</p>
<p>该属性还有一个可以配置的property标签，可以配置的属性为：<code>forceBigDecimals</code>，该属性可以控制是否强制将 DECIMAL 和 NUMERIC 类型的JDBC 字段转换为JAVA类型的java.math.BigDecimal，默认值为false，一般不需要配置。</p>
<p>默认情况下的转换规则如下：</p>
<ul>
<li><p>如果精度 &gt; 0 或者 长度 &gt; 18 ，就使用 java.math.BigDecimal。</p>
</li>
<li><p>如果精度 = 0 并且 10&lt;=长度&lt;=18，就使用 java.lang.Long。</p>
</li>
<li><p>如果精度 = 0 并且 5&lt;=长度&lt;=9，就使用 java.lang.Integer。</p>
</li>
<li><p>如果精度 = 0 并且 长度&lt;5，就使用 java.lang.Short。</p>
</li>
</ul>
<p>如果将 forceBigDecimals 设置为 true，那么一定会使用 java.math.BigDecimal类型。</p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs undefined">&lt;javaTyepResolver&gt;<br>   &lt;property name=&quot;forceBigDecimals&quot; value=&quot;false&quot; /&gt;<br>&lt;/javaTyepResolver&gt;<br></code></pre></td></tr></table></figure>
<h5 id="javaModelGenerator标签"><a href="#javaModelGenerator标签" class="headerlink" title="javaModelGenerator标签"></a>javaModelGenerator标签</h5><p>该标签用来控制生成的实体类，根据context标签中配置的 defaultModelType属性值的不同，一个表可能会对应生成多个不同的实体类。一个表对应多个类时使用并不方便，所以前面推荐使用 flat，保证一个表对应一个实体类。该标签必须配置一个，并且最多配置一个。</p>
<p>该标签只有两个必选属性。</p>
<ul>
<li><p>targetPackage：生成实体类存放的包名。一般就是放在该包下，实际还会受到其他配置的影响。</p>
</li>
<li><p>targetProject：指定目标项目路径，可以使用相对路径或绝对路径。</p>
</li>
</ul>
<p>该标签还支持以下几个property子标签属性。</p>
<ul>
<li><p>constructorBased：该属性只对 <code>MyBatis3</code> 有效，如果为 true就会使用构造方法入参，如果为 false就会使用setter方式。默认为false。</p>
</li>
<li><p>enableSubPackages：如果为true，MBG会根据 catalog 和 schema 来生成子包。如果为 false 就会直接使用 targetPackage属性。默认为false。</p>
</li>
<li><p>immutable：用来配置实体类属性是否可变。如果设置为 true，那么constructorBased不管设置成什么，都会使用构成方法入参，并且不会生成setter方法。如果false，实体类属性就可以改变。默认为false。</p>
</li>
<li><p>rootClass：设置所有实体类的基类。如果设置，则需要使用类的全限定名称。并且，如果MBG能够加载 rootClass（可以通过classPathEntry引入jar包，或者classpath方式），那么MBG不会覆盖和父类中完全匹配的属性。匹配规则如下：</p>
</li>
</ul>
<p>（1）属性名完全相同</p>
<p>（2）属性类型相同</p>
<p>（3）属性有getter方法</p>
<p>（4）属性有setter方法</p>
<ul>
<li>trimStrings：判断是否对数据库查询结果进行trim操作，默认值为false。如果设置为 true就会生成如下代码：<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs undefined">public void setUsername(String username)&#123;<br>    this.username = username == null ? null : username.trim();<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
</ul>
<p>javaModelGenerator配置如下：<br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs undefined">&lt;javaModelGenerator targetPackage=&quot;com.liuzhuo.model&quot;<br>                    targetProject=&quot;src\main\java&quot; &gt;  &lt;!--相对路径--&gt;<br><br>     &lt;property name=&quot;enableSubPackages&quot; value=&quot;false&quot; /&gt;<br>     &lt;property name=&quot;trimStrings&quot; values=&quot;false&quot; /&gt;<br><br>&lt;/javaModelGenerator&gt;<br></code></pre></td></tr></table></figure></p>
<h5 id="sqlMapGenerator标签"><a href="#sqlMapGenerator标签" class="headerlink" title="sqlMapGenerator标签"></a>sqlMapGenerator标签</h5><p>该标签用于配置SQL映射生成器（Mapper.xml文件）的属性，该标签可选，最多配置一个。</p>
<p>如果targetRuntime设置为MyBatis3，则只有当javaClientGenerator配置需要XML时，该标签才必须配置一个。如果没有配置：javaClientGenerator，则使用以下规则。</p>
<ul>
<li><p>如果指定了一个sqlMapGenerator，那么MBG将只生成XML的SQL映射文件和实体类。</p>
</li>
<li><p>如果没有指定sqlMapGenerator，那么MBG将只生成实体类。</p>
</li>
</ul>
<p>该标签只有两个必选属性。</p>
<ul>
<li><p>targetPackage：生成SQL映射文件（XML文件）存放的包名。一般就是放在该包下，实际还会受到其他配置的影响。</p>
</li>
<li><p>targetProject：指定目标项目路径，可以使用相对路径或绝对路径。</p>
</li>
</ul>
<p>该标签还有一个可选的property子标签属性：enableSubPackages，如果为true，MBG会根据catalog和schema来生成子包。如果为false就会直接用targetPackage属性，默认为false。</p>
<p>sqlMapGenerator配置如下：<br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs undefined">&lt;sqlMapGenerator targetPackage=&quot;com.liuzhuo.mapper&quot;<br>                 targetProject=&quot;E:\Myproject\src\main\resources&quot;&gt;  &lt;!--绝对路径--&gt;<br><br>      &lt;property name=&quot;enableSubPackages&quot; values=&quot;false&quot; /&gt;<br>&lt;/sqlMapGenerator&gt;<br></code></pre></td></tr></table></figure></p>
<h5 id="javaClientGenerator标签"><a href="#javaClientGenerator标签" class="headerlink" title="javaClientGenerator标签"></a>javaClientGenerator标签</h5><p>该标签用于配置Java客户端生成器（Mapper接口）的属性，该标签可选，最多配置一个。如果不配置该标签，就不会生成Mapper接口。</p>
<p>该标签有以下3个必选属性。</p>
<ul>
<li>type：用于选择客户端代码（Mapper接口）的属性，用户可以自定义实现，需要继承 org.mybatis.generator.codegen.AbstractJavaClientGenerator类，必须有一个默认空的构造方法。该属性提供了以下预设的代码生成器，首先根据context的targetRuntime分成两类（不考虑iBATIS）。</li>
</ul>
<p>（1）MyBatis3<br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs undefined">ANNOTATEDMAPPER: 基于注解的Mapper接口，不会有对应的XML映射文件。<br>MIXEDMAPPER：    XML和注解的混合模式，上面这种情况中的SQL Provider注解方法会被XML方式替代。<br>XMLMAPPER：      所有方法都在XML中，接口调用依赖XML文件。<br></code></pre></td></tr></table></figure></p>
<p>（2）MyBatis3Simple<br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs undefined">ANNOTATEDMAPPER: 基于注解的Mapper接口，不会有对应的XML映射文件。<br>XMLMAPPER：      所有方法都在XML中，接口调用依赖XML文件。<br></code></pre></td></tr></table></figure></p>
<ul>
<li><p>targePackage：生成Mapper接口存放的包名。一般就是放在该包下，实际还会受到其他配置的影响。</p>
</li>
<li><p>targetProject：指定目标项目路径，可以使用相对路径或绝对路径。</p>
</li>
</ul>
<p>javaClientGenerator标签配置：<br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs undefined">&lt;javaClientGenerator type=&quot;XMLMAPPER&quot; targetPackage=&quot;com.liuzhuo.mapper&quot;<br>                     targetProject=&quot;src\main\java&quot; /&gt;<br><br>    &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot;/&gt;<br><br>&lt;/javaClientGenerator&gt;<br></code></pre></td></tr></table></figure></p>
<h5 id="table标签"><a href="#table标签" class="headerlink" title="table标签"></a>table标签</h5><p>table标签是最重要的一个标签，该标签用于配置需要通过内省数据库的表，只有在table中配置过的表，才能经过上述其他配置生成最终的代码，该标签至少要配置一个，可以配置多个。</p>
<p>table标签有一个必选属性 <code>tableName</code> ，该属性指定要生成的表名，可以使用SQL通配符匹配多个表。</p>
<p>例如要生成全部的表，可以配置如下：</p>
<p><code>&lt;table tableName=&quot;%&quot; /&gt;</code></p>
<p>table标签包含多个可选属性。</p>
<ul>
<li><p>schema：数据库的schema，可以使用SQL通配符匹配。如果设置了该值，生成SQL的表名会变成如 schema.tableName的形式。</p>
</li>
<li><p>catalog：数据库的catalog，如果设置了该值，生成SQL的表名会变成如：catalog.tableName的形式。</p>
</li>
<li><p>alias：如果指定，这个值会用在生成的 select 查询SQL表的别名和列名上，例如 alias_actualColumnName（别名_实际列名）。</p>
</li>
<li><p>domainObjectName：生成对象的基本名称。如果没有指定，MBG会自动根据表名来生成名称。</p>
</li>
<li><p>enableXXX：XXX代表多种SQL方法，该属性用来指定是否生成对应的XXX语句。</p>
</li>
<li><p>selectByPrimaryKeyQueryId：DBA跟踪工具中会用到，具体请参考详细文档。</p>
</li>
<li><p>selectByExampleQueryid：DBA跟踪工具中会用到，具体请参考详细文档。</p>
</li>
<li><p>modelType：和context的defaultModelType含义一样，这里可以针对表进行配置，胡覆盖defaultModelType的配置。</p>
</li>
<li><p>escapeWildcards：表示查询列是否对 schema和表名中的SQL通配符（ _ 和 % ）进行转义。对于某些驱动，当 schema或表名中包含SQL通配符时，转义是必须的。有一些驱动则需要将下画线进行转义，例如：MY_TABLE。默认值是 false。</p>
</li>
<li><p>delimitidentifiers：是否给标识符增加分隔符。默认是false。当 catalog、schema、tableName中包含空白时，默认为true。</p>
</li>
<li><p>delimitAllColumns：是否对所有列添加分隔符。默认为 false。</p>
</li>
</ul>
<hr>
<p>除了 property 子标签外， table 还包含以下子标签。</p>
<ul>
<li><p>generatedKey （0个或 多个）</p>
</li>
<li><p>columnRenamingRule（0 个或 多个）</p>
</li>
<li><p>columnOverride （0个或多个）</p>
</li>
<li><p>ignoreColumn （0个或多个）</p>
</li>
</ul>
<hr>
<p>generatedKey：该标签用来指定自动生成主键的属性。</p>
<p>该标签包含以下两个必选属性。</p>
<ul>
<li><p>column：生成列的列名</p>
</li>
<li><p>sqlStatement：返回新值的SQL语句。如果这是一个identity列，则可以使用其中一个预定义的特殊值，预定义值如下：</p>
</li>
</ul>
<p>（1） Cloudscape </p>
<p>（2）DB2</p>
<p>（3）DB2_MF</p>
<p>（4）Derby </p>
<p>（5）HSQLDB</p>
<p>（6）Informix</p>
<p>（7）MySQL</p>
<p>（8）SQL Server</p>
<p>（9）SYBASE</p>
<p>（10）JDBC：使用该值时，Mybatis会使用JDBC标准接口来获取值，这是一个独立于数据库获取标识列中的值的方法。</p>
<p>该标签还包含两个可选属性。</p>
<ul>
<li><p>identity：当设置为 true 时，该列会被标记为 identity 井且 selectKey标签会被插入在 insert后面；当设置为 false时，selectKey标签会被插入在 insert前面面。</p>
</li>
<li><p>type： type = post 且 identity=true 时，生成的 selectKey 中 order=AFTER；当type=pre时，identity只能为false，生成selectKey中的 order=BEFORE。</p>
</li>
</ul>
<hr>
<p>table的示例：<br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs undefined">&lt;table tableName=&quot;user login info&quot; domainObjectName= &quot;UserLogininfo&quot;&gt;<br><br>       &lt;generatedKey column=&quot;id&quot; sqlStatement=&quot;MySql&quot; /&gt;<br>&lt;/table&gt;<br></code></pre></td></tr></table></figure></p>
<p>改配置生成的对应的insert方法如下：<br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs undefined">&lt;insert id=&quot;insert&quot; parameterType=&quot;com.liuzhuo.model.UserLogininfo&quot;&gt;<br>    &lt;selectKey keyProperty=&quot;id&quot; order=&quot;AFTER&quot; resultType=&quot;java.lang.Integer&quot;&gt;<br>            SELECT LAST INSERT ID () <br>    &lt;/selectKey&gt; <br>    insert into `user login info` (Id, username , logindate , loginip) <br>    values (#&#123;id,jdbcType=INTEGER&#125; , #&#123;username , jdbcType=VARCHAR&#125; , <br>            #&#123;logindate,jdbcType=TIMESTAMP&#125;<br>            #&#123;loginip,jdbcType=VARCHAR&#125;) <br>&lt;/ insert&gt;<br></code></pre></td></tr></table></figure></p>
<hr>
<h4 id="完整的配置"><a href="#完整的配置" class="headerlink" title="完整的配置"></a>完整的配置</h4><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs undefined">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;<br>&lt;!DOCTYPE generatorConfiguration<br>        PUBLIC &quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;<br>        &quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;&gt;<br><br>&lt;generatorConfiguration&gt;<br><br>    &lt;classPathEntry<br>            location=&quot;D:\mysql-connect-jar\mysql-connector-java-5.1.39.jar&quot;/&gt;<br><br>    &lt;context id=&quot;mySqlContext&quot; targetRuntime=&quot;MyBatis3&quot; <br>             defaultModelType=&quot;flat&quot;&gt;<br><br>        &lt;property name=&quot;begnningDelimiter&quot; value=&quot;`&quot;/&gt;<br>        &lt;property name=&quot;endingDelimiter&quot; value=&quot;`&quot;/&gt;<br><br>        &lt;commentGenerator&gt;<br>            &lt;property name=&quot;suppressDate&quot; value=&quot;false&quot;/&gt;<br>            &lt;property name=&quot;suppressAllComments&quot; value=&quot;true&quot;/&gt;<br>        &lt;/commentGenerator&gt;<br><br>        &lt;jdbcConnection driverClass=&quot;com.mysql.jdbc.Driver&quot;<br>                        connectionURL=&quot;jdbc:mysql://localhost:3306/mybatis&quot;<br>                        userId=&quot;root&quot;<br>                        password=&quot;&quot;/&gt;<br><br>        &lt;javaModelGenerator targetPackage=&quot;com.liuzhuo.entity&quot;<br>                            targetProject=&quot;src\main\java&quot;&gt;<br>            &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot;/&gt;<br>            &lt;property name=&quot;trimStrings&quot; value=&quot;true&quot;/&gt;<br>        &lt;/javaModelGenerator&gt;<br><br>        &lt;sqlMapGenerator targetPackage=&quot;com.liuzhuo.mapper&quot;<br>                         targetProject=&quot;src\main\resources&quot;&gt;<br>            &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot;/&gt;<br>        &lt;/sqlMapGenerator&gt;<br><br>        &lt;javaClientGenerator targetPackage=&quot;com.liuzhuo.mapper&quot;<br>                             targetProject=&quot;src\main\java&quot;<br>                             type=&quot;MIXEDMAPPER&quot;&gt;<br>            &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot;/&gt;<br>        &lt;/javaClientGenerator&gt;<br><br>        &lt;!--&lt;table tableName=&quot;T_FEE_AGTBILL&quot; domainObjectName=&quot;FeeAgentBill&quot;<br>               enableCountByExample=&quot;false&quot; enableUpdateByExample=&quot;false&quot;<br>               enableDeleteByExample=&quot;false&quot; enableSelectByExample=&quot;false&quot;<br>               selectByExampleQueryId=&quot;false&quot;/&gt;--&gt;<br><br>        &lt;table tableName=&quot;student&quot; domainObjectName=&quot;Student&quot;&gt;<br>              &lt;generatedKey column=&quot;id&quot; sqlStatement=&quot;MySql&quot;/&gt;<br>        &lt;/table&gt;<br><br>    &lt;/context&gt;<br>&lt;/generatorConfiguration&gt;<br></code></pre></td></tr></table></figure>
<p>有关配置有几点重要说明。</p>
<p>（1）context属性 targetRuntime 设置为 MyBatis3Simple，可以避免生成与Example相关的代码和方法，如果需要Example相关的代码，则设置为：MyBatis3.</p>
<p>（2）context属性 defaultModelType 设置为 flat，目的是使每个表只生成一个实体类，当没有复杂的类继承时，使用起来更方便。</p>
<p>（3）因为此处使用的数据库为MySQL，所以前后分隔符都设置为 “ ` “。</p>
<hr>
<h4 id="运行MyBatis-Generator"><a href="#运行MyBatis-Generator" class="headerlink" title="运行MyBatis Generator"></a>运行MyBatis Generator</h4><p>MBG提供了很多种运行方式，常用的有以下几种：</p>
<ul>
<li><p>使用java编写代码运行</p>
</li>
<li><p>从命令提示符运行</p>
</li>
<li><p>使用 Maven Plugin运行</p>
</li>
<li><p>使用 Eclipse插件运行</p>
</li>
</ul>
<hr>
<h5 id="使用java编写方式"><a href="#使用java编写方式" class="headerlink" title="使用java编写方式"></a>使用java编写方式</h5><p>在写代码之前，需要先把MBG的jar包添加到项目当中。</p>
<p>第一种方式是，从地址：<a href="https://github.com/mybatis/generator/releases" target="_blank" rel="noopener">https://github.com/mybatis/generator/releases</a> 下载jar包。</p>
<p>第二种方式是，使用Maven方式直接引入依赖，在pom.xml中添加如下依赖：<br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs undefined">&lt;dependency&gt;<br>    &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;<br>    &lt;artifactId&gt;mybatis-generator&lt;/artifactId&gt;<br>    &lt;version&gt;1.3.7&lt;/version&gt;<br>&lt;/dependency&gt;<br></code></pre></td></tr></table></figure></p>
<p>在MyBatis项目中添加 <code>com.mybatis.generator</code>包，创建Generator.java类。</p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs undefined">public class Generator &#123;<br><br>   public static void main(String[] args) throws Exception&#123;<br>    //MBG执行过程中的警告信息<br>    List&lt;String&gt; warning = new ArrayList&lt;String&gt;();<br>    //当生成的代码重复时，覆盖原代码<br>    boolean overwrite = true;<br>    //读取MBG配置文件<br>    InputStream is = Generator.class.getResourceAsStream(&quot;/generator/generatorConfig.xml&quot;);<br>    ConfigurationParser cp = new ConfigurationParser(warnings);<br>    Configuration config = cp.parseConfiguration(is);<br>    is.close();<br><br>    DefaultShellCallback callback =  new DefaultShellCallback(overwrite);<br><br>   //创建MBG<br>   MyBatisGenerator myBatisGenerator = new MyBatisGenerator(config,callback,warnings);<br>   //执行生成代码<br>   myBatisGenerator.generate(null);<br>   //输出警告信息<br>   for(Strng warning : warnings) &#123; <br>       System.out.println(warning); <br>     &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>使用Java编码方式运行的好处是，generatorConfig.xml配置的一些特殊的类（如commentGenerator 标签中 type 属性配置的 MyCommentGenerator 类）只要在当前项目中，或者在当前项目的 classpath 中， 就可以直接使用。使用其他方式时都需要特别配置才能在MBG执行过程中找到 MyCommentGenerator 类并实例化，否则都会由于找不到这个类而抛出异常。</p>
<h5 id="从命令提示符运行"><a href="#从命令提示符运行" class="headerlink" title="从命令提示符运行"></a>从命令提示符运行</h5><p>从命令提示符运行就必须使用 jar包，将这个jar包与generatorConfig.xml文件放在一起。从这里就可以体会到为什么说这种配置方式不方便了，因为需要修改generatorConfig.xml配置文件。</p>
<p>将 MySQL JDBC 驱动 （如 mysql-connector java-5.1.38.jar ）放到当前目录中，然后在配置文件中添加classPathEntry：<br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs undefined">&lt;generatorConfiguration&gt;<br> <br>&lt;classPathEntry location=&quot;mysql-connector java-5.1.38.jar&quot;/&gt;<br><br>&lt;context id=&quot;MySqlContext&quot; defaultModelTyp=&quot;flat&quot;&gt;<br>  &lt;!--其他原有配置--&gt;<br>&lt;/context&gt;<br><br>&lt;/generatorConfiguration&gt;<br></code></pre></td></tr></table></figure></p>
<p>除此之外，在当前目录中添加src文件夹，在src中再添加 main文件夹，main文件夹中添加 java 和 resources文件夹。<br><img src="/images/mybatis/QQ截图20190317175506.png" style="width:50%"></p>
<p>下面介绍一下MBG命令行可以接受的几个参数：</p>
<ul>
<li><p>-configfile fileName ：指定配置文件的名称。</p>
</li>
<li><p>-overwrite(可选)：指定了该参数后，如果生成的java文件已经存在同名的文件，新生成的文件则会覆盖原有的文件。否则，会新生成一个唯一的名字。</p>
</li>
<li><p>-verbose（可选）：指定该参数，执行过程中会输出到控制台。</p>
</li>
<li><p>-forceJavaLogging（可选）：指定该参数，MBG将会使用Java日志记录而不会使用Log4J，即使Log4J在运行时的类路径中。</p>
</li>
<li><p>contextids context1,context2,···(可选)：指定该参数，逗号隔开这些的context会被执行。</p>
</li>
<li><p>tables table1,table2,···(可选)：指定该参数，逗号隔开的这些表会被运行。</p>
</li>
</ul>
<hr>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs undefined">java -jar mybatis-generator-core-1.3.3.jar -configfile generatorConfig.xml<br><br><br>java -Dfile.encoding=UTF-8 -jar mybatis-generator-core-1.3.3.jar -configfile generatorConfig.xml -overwrite<br></code></pre></td></tr></table></figure>
<hr>
<h5 id="使用Maven-Plugin运行"><a href="#使用Maven-Plugin运行" class="headerlink" title="使用Maven Plugin运行"></a>使用Maven Plugin运行</h5><p>使用 Maven Plugin 插件方式和 java编码方式类似，都是和项目绑定在一起的，当需要引用其他类时，需要给 Maven插件添加依赖，否则找不到类。</p>
<p>在pom.xml文件中添加插件配置：<br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs undefined">&lt;build&gt;<br>	&lt;plugins&gt;<br>           &lt;plugin&gt;<br>		&lt;groupid&gt;org.mybatis.generator&lt;/groupid&gt; <br>		&lt;artifactid&gt;mybatis-generator-maven-plugin&lt;/artifactid&gt; <br>		&lt;version&gt;l.3.3&lt;/version&gt; <br>		&lt;configuration&gt; <br>		     &lt;configurationFile&gt; <br>		              $&#123;basedir&#125;/src/main/resources/generator/generatorConfig.xml <br>		     &lt;/configurationFile&gt; <br>		     &lt;overwrite&gt;true&lt;/overwrite&gt;<br>		     &lt;verbose&gt;true&lt;/verbose&gt; <br>		&lt;/configuration&gt; <br>		&lt;dependencies&gt; <br>		     &lt;dependency&gt; <br>		         &lt;groupid&gt;mysql&lt;/groupid&gt; <br>		         &lt;artifactid&gt;mysql-connector-java&lt;/artifactid&gt; <br>		         &lt;version&gt;5.l.38&lt;/version&gt; <br>		     &lt;/dependency&gt; <br>		     &lt;dependency&gt; <br>		         &lt;groupid&gt;com.liuzhuo&lt;/groupid&gt; <br>		         &lt;artifactid&gt;mybatis&lt;/artifactid&gt; <br>		         &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; <br>		      &lt;/dependency&gt; <br>		&lt;/dependencies&gt; <br>		&lt;/plugin&gt; <br>	&lt;/plugins&gt;<br>&lt;/build&gt;<br></code></pre></td></tr></table></figure></p>
<p>这里<code>&lt;configuration&gt;</code>就和命令行的参数一样，不用讲了，特殊之处在于插件中的<code>&lt;dependencies&gt;</code>，在generatorConfig.xml配置文件中，没有通过classPathEntry方式配置 JDBC驱动了，这里通过添加依赖将 JDBC驱动添加到了MBG的classpath中，另外还添加了当前项目的依赖。</p>
<p><strong>需要特别注意的是：</strong>当前项目必须执行 mvn install（通过Maven命令将当前项目安装到本地仓库），否则会找不到当前项目的依赖。</p>
<p>配置好插件后，可以执行：</p>
<p><code>mvn mybatis-generator:generate</code></p>
<hr>
<h5 id="Eclipse插件方式"><a href="#Eclipse插件方式" class="headerlink" title="Eclipse插件方式"></a>Eclipse插件方式</h5><p>（1）安装Eclipse插件：</p>
<p>从MBG的发布页面 <a href="https://github.com/mybatis/generator/releases" target="_blank" rel="noopener">https://github.com/mybatis/generator/releases</a> 中下载插件：</p>
<p><code>org.mybatis.generator.eclipse.site-1.3.7.201807042148.zip</code><br><img src="/images/mybatis/QQ截图20190317182045.png"></p>
<p>下载好插件后，在Eclipse中选中菜单 Help 中的 Install New Software：</p>
<p>点击Add按钮，在弹出的窗口中选择 Archive，选择下载完成的 MBG 插件，输入 Name MBG后，点击OK。</p>
<p>从下拉列表中选择全部的 MyBatis Generator，点击Next，一步步完成安装，安装完成后重启Eclipse。</p>
<p>（2）使用Eclipse插件</p>
<p>Eclipse 插件的运行方式有点特殊， JDBC 驱动需要通过 classPathEntry 进行配置，其他定制类只要在当前项目或当前项目classpath中即可使用。</p>
<figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs undefined">&lt;generatorConfiguration&gt;<br><br>    &lt;classPathEntry<br>            location=&quot;D:\mysql-connect-jar\mysql-connector-java-5.1.39.jar&quot;/&gt;<br><br>    &lt;context id=&quot;mySqlContext&quot; targetRuntime=&quot;MyBatis3&quot; <br>             defaultModelType=&quot;flat&quot;&gt;<br><br>        &lt;property name=&quot;begnningDelimiter&quot; value=&quot;`&quot;/&gt;<br>        &lt;property name=&quot;endingDelimiter&quot; value=&quot;`&quot;/&gt;<br>        &lt;property name=&quot;javaFileEncoding&quot; value=&quot;UTF-8&quot;/&gt;<br>        &lt;!--其他配置--&gt;<br>&lt;/generatorConfiguration&gt;<br></code></pre></td></tr></table></figure>
<p>(3) 运行</p>
<p>完成上述修改后，在配置文件中单击鼠标右键，选择：<code>Generate MyBatis/iBATIS Artifacts</code></p>
<p>点击 Generate MyBatis 后就会自动生成代码。</p>
<hr>
<h5 id="使用IDEA的方式"><a href="#使用IDEA的方式" class="headerlink" title="使用IDEA的方式"></a>使用IDEA的方式</h5><p>我自己使用的是IDEA的方式。</p>
<p>随便创建一个 Springboot的web项目：</p>
<p>我填写的是：<br>groupId：com.generator<br>artifactId：mybatis</p>
<p>项目结构：<br><img src="/images/mybatis/QQ截图20190317183413.png"></p>
<p>pom.xml文件：<br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><code class="hljs undefined">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;<br>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;<br>         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;<br>    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;<br><br>    &lt;groupId&gt;com.generator&lt;/groupId&gt;<br>    &lt;artifactId&gt;mybatis&lt;/artifactId&gt;<br>    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;<br>    &lt;packaging&gt;jar&lt;/packaging&gt;<br><br>    &lt;name&gt;mybatis&lt;/name&gt;<br>    &lt;description&gt;generator-mybatis&lt;/description&gt;<br><br>    &lt;parent&gt;<br>        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;<br>        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;<br>        &lt;version&gt;1.5.6.RELEASE&lt;/version&gt;<br>        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;<br>    &lt;/parent&gt;<br><br>    &lt;properties&gt;<br>        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;<br>        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;<br>        &lt;java.version&gt;1.8&lt;/java.version&gt;<br>    &lt;/properties&gt;<br><br>    &lt;dependencies&gt;<br>        &lt;dependency&gt;<br>            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;<br>            &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;<br>            &lt;version&gt;1.3.0&lt;/version&gt;<br>        &lt;/dependency&gt;<br>        &lt;dependency&gt;<br>            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;<br>            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;<br>        &lt;/dependency&gt;<br><br>        &lt;dependency&gt;<br>            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;<br>            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;<br>            &lt;scope&gt;test&lt;/scope&gt;<br>        &lt;/dependency&gt;<br><br>    &lt;/dependencies&gt;<br><br>    &lt;build&gt;<br>        &lt;plugins&gt;<br>            &lt;plugin&gt;<br>                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;<br>                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;<br>            &lt;/plugin&gt;<br>            &lt;plugin&gt;<br>                &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;<br>                &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt;<br>                &lt;version&gt;1.3.2&lt;/version&gt;<br>                &lt;configuration&gt;<br>                    &lt;verbose&gt;true&lt;/verbose&gt;<br>                    &lt;overwrite&gt;true&lt;/overwrite&gt;<br>                &lt;/configuration&gt;<br>                &lt;dependencies&gt;<br>                    &lt;dependency&gt;<br>                        &lt;groupId&gt;mysql&lt;/groupId&gt;<br>                        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;<br>                        &lt;version&gt;5.1.39&lt;/version&gt;<br>                    &lt;/dependency&gt;<br>                &lt;/dependencies&gt;<br>            &lt;/plugin&gt;<br>        &lt;/plugins&gt;<br>    &lt;/build&gt;<br><br>&lt;/project&gt;<br></code></pre></td></tr></table></figure></p>
<p>在resources中，添加：generator.properties 文件：<br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs undefined">jdbc.driverClass=com.mysql.jdbc.Driver<br>jdbc.connectionURL=jdbc:mysql://localhost:3306/mybatis<br>jdbc.userId=root<br>jdbc.password=123456<br>jdbc.database=mybatis<br></code></pre></td></tr></table></figure></p>
<p>generatorConfig.xml文件中：<br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br></pre></td><td class="code"><pre><code class="hljs undefined">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;<br>&lt;!DOCTYPE generatorConfiguration<br>        PUBLIC &quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;<br>        &quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;&gt;<br><br>&lt;generatorConfiguration&gt;<br>    &lt;!--导入属性配置 --&gt;<br>    &lt;properties resource=&quot;generator.properties&quot;&gt;&lt;/properties&gt;<br><br>    &lt;!--指定特定数据库的jdbc驱动jar包的位置 --&gt;<br>    &lt;!--&lt;classPathEntry location=&quot;$&#123;jdbc.driverLocation&#125;&quot;/&gt;--&gt;<br><br>    &lt;context id=&quot;default&quot; targetRuntime=&quot;MyBatis3&quot;&gt;<br><br><br>        &lt;!-- optional，旨在创建class时，对注释进行控制 --&gt;<br>        &lt;commentGenerator&gt;<br>            &lt;!-- 是否去除自动生成的注释 true：是 ： false:否 --&gt;<br>            &lt;property name=&quot;suppressDate&quot; value=&quot;false&quot;/&gt;<br>            &lt;property name=&quot;suppressAllComments&quot; value=&quot;true&quot;/&gt;<br>        &lt;/commentGenerator&gt;<br><br><br>        &lt;!--jdbc的数据库连接 --&gt;<br>        &lt;!--数据库连接的信息：驱动类、连接地址、用户名、密码 --&gt;<br>        &lt;jdbcConnection<br>                driverClass=&quot;$&#123;jdbc.driverClass&#125;&quot;<br>                connectionURL=&quot;$&#123;jdbc.connectionURL&#125;&quot;<br>                userId=&quot;$&#123;jdbc.userId&#125;&quot;<br>                password=&quot;$&#123;jdbc.password&#125;&quot;&gt;<br>        &lt;/jdbcConnection&gt;<br><br><br>        &lt;!-- 非必需，类型处理器，在数据库类型和java类型之间的转换控制--&gt;<br>        &lt;javaTypeResolver&gt;<br>            &lt;property name=&quot;forceBigDecimals&quot; value=&quot;false&quot;/&gt;<br>        &lt;/javaTypeResolver&gt;<br><br>        &lt;!-- Model模型生成器,用来生成含有主键key的类，记录类 以及查询Example类<br>            targetPackage     指定生成的model生成所在的包名<br>            targetProject     指定在该项目下所在的路径<br>        --&gt;<br>        &lt;javaModelGenerator targetPackage=&quot;com.liuzhuo.model.student&quot; targetProject=&quot;src/main/java&quot;&gt;<br>            &lt;!-- 是否对model添加 构造函数 --&gt;<br>            &lt;property name=&quot;constructorBased&quot; value=&quot;true&quot;/&gt;<br><br>            &lt;!-- 是否允许子包，即targetPackage.schemaName.tableName --&gt;<br>            &lt;property name=&quot;enableSubPackages&quot; value=&quot;false&quot;/&gt;<br><br>            &lt;!-- 建立的Model对象是否 不可改变  即生成的Model对象不会有 setter方法，只有构造方法 --&gt;<br>            &lt;property name=&quot;immutable&quot; value=&quot;false&quot;/&gt;<br><br>            &lt;!-- 是否对类CHAR类型的列的数据进行trim操作 --&gt;<br>            &lt;property name=&quot;trimStrings&quot; value=&quot;true&quot;/&gt;<br>        &lt;/javaModelGenerator&gt;<br><br>        &lt;!--Mapper映射文件生成所在的目录 为每一个数据库的表生成对应的SqlMap文件 --&gt;<br>        &lt;sqlMapGenerator targetPackage=&quot;com.liuzhuo.mapper.student&quot; targetProject=&quot;src/main/java&quot;&gt;<br>            &lt;property name=&quot;enableSubPackages&quot; value=&quot;false&quot;/&gt;<br>        &lt;/sqlMapGenerator&gt;<br><br><br>        &lt;!-- 客户端代码，生成易于使用的针对Model对象和XML配置文件 的代码<br>                type=&quot;ANNOTATEDMAPPER&quot;,生成Java Model 和 基于注解的Mapper对象<br>                type=&quot;MIXEDMAPPER&quot;,生成基于注解的Java Model 和相应的Mapper对象<br>                type=&quot;XMLMAPPER&quot;,生成SQLMap XML文件和独立的Mapper接口<br>        --&gt;<br>        &lt;javaClientGenerator targetPackage=&quot;com.liuzhuo.mapper.student&quot; targetProject=&quot;src/main/java&quot;<br>                             type=&quot;MIXEDMAPPER&quot;&gt;<br>            &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot;/&gt;<br>            &lt;!--<br>                    定义Maper.java 源代码中的ByExample() 方法的可视性，可选的值有：<br>                    public;<br>                    private;<br>                    protected;<br>                    default<br>                    注意：如果 targetRuntime=&quot;MyBatis3&quot;,此参数被忽略<br>             --&gt;<br>            &lt;property name=&quot;exampleMethodVisibility&quot; value=&quot;public&quot;/&gt;<br>            &lt;!--<br>              方法名计数器<br>              Important note: this property is ignored if the target runtime is MyBatis3.<br>            &lt;property name=&quot;methodNameCalculator&quot; value=&quot;&quot;/&gt;<br>             --&gt;<br>            &lt;!--<br>                  为生成的接口添加父接口<br>            &lt;property name=&quot;rootInterface&quot; value=&quot;&quot;/&gt;<br>            --&gt;<br>        &lt;/javaClientGenerator&gt;<br><br>        &lt;!--tableName:表名<br>            schema:数据库名<br>            domainObjectName:实体类的名字<br>        --&gt;<br>        &lt;!--详细的表--&gt;<br>        &lt;!--<br>       &lt;table tableName=&quot;tbl_file_permission_map&quot; schema=&quot;$&#123;jdbc.database&#125;&quot;<br>               domainObjectName=&quot;FilePermissionMap&quot;<br>               enableCountByExample=&quot;false&quot; enableUpdateByExample=&quot;false&quot;<br>               enableDeleteByExample=&quot;false&quot; enableSelectByExample=&quot;false&quot;<br>               selectByExampleQueryId=&quot;false&quot;&gt;<br><br>               optional , only for mybatis3 runtime<br>               自动生成的键值（identity,或者序列值）<br>               如果指定此元素，MBG将会生成&lt;selectKey&gt;元素，然后将此元素插入到SQL Map的&lt;insert&gt; 元素之中<br>               sqlStatement 的语句将会返回新的值<br>               如果是一个自增主键的话，你可以使用预定义的语句,或者添加自定义的SQL语句. 预定义的值如下:<br>                  Cloudscape    This will translate to: VALUES IDENTITY_VAL_LOCAL()<br>                  DB2:      VALUES IDENTITY_VAL_LOCAL()<br>                  DB2_MF:       SELECT IDENTITY_VAL_LOCAL() FROM SYSIBM.SYSDUMMY1<br>                  Derby:        VALUES IDENTITY_VAL_LOCAL()<br>                  HSQLDB:   CALL IDENTITY()<br>                  Informix:     select dbinfo(&apos;sqlca.sqlerrd1&apos;) from systables where tabid=1<br>                  MySql:        SELECT LAST_INSERT_ID()<br>                  SqlServer:    SELECT SCOPE_IDENTITY()<br>                  SYBASE:   SELECT @@IDENTITY<br>                  JDBC:     This will configure MBG to generate code for MyBatis3 suport of JDBC standard generated keys. This is a database independent method of obtaining the value from identity columns.<br>                  identity: 自增主键  If true, then the column is flagged as an identity column and the generated &lt;selectKey&gt; element will be placed after the insert (for an identity column). If false, then the generated &lt;selectKey&gt; will be placed before the insert (typically for a sequence).<br><br>            &lt;generatedKey column=&quot;&quot; sqlStatement=&quot;&quot; identity=&quot;&quot; type=&quot;&quot;/&gt;<br><br>            optional.<br>                     列的命名规则：<br>                     MBG使用 &lt;columnRenamingRule&gt; 元素在计算列名的对应 名称之前，先对列名进行重命名，<br>                     作用：一般需要对BUSI_CLIENT_NO 前的BUSI_进行过滤<br>                     支持正在表达式<br>                     searchString 表示要被换掉的字符串<br>                     replaceString 则是要换成的字符串，默认情况下为空字符串，可选<br><br>            &lt;columnRenamingRule searchString=&quot;&quot; replaceString=&quot;&quot;/&gt;<br><br>            optional.告诉 MBG 忽略某一列<br>                    column，需要忽略的列<br>                    delimitedColumnName:true ,匹配column的值和数据库列的名称 大小写完全匹配，false 忽略大小写匹配<br>                    是否限定表的列名，即固定表列在Model中的名称<br><br>            &lt;ignoreColumn column=&quot;&quot; delimitedColumnName=&quot;&quot;/&gt;<br><br><br>            optional.覆盖MBG对Model 的生成规则<br>                 column: 数据库的列名<br>                 javaType: 对应的Java数据类型的完全限定名<br>                 在必要的时候可以覆盖由JavaTypeResolver计算得到的java数据类型. For some databases, this is necessary to handle &quot;odd&quot; database types (e.g. MySql&apos;s unsigned bigint type should be mapped to java.lang.Object).<br>                 jdbcType:该列的JDBC数据类型(INTEGER, DECIMAL, NUMERIC, VARCHAR, etc.)，该列可以覆盖由JavaTypeResolver计算得到的Jdbc类型，对某些数据库而言，对于处理特定的JDBC 驱动癖好 很有必要(e.g. DB2&apos;s LONGVARCHAR type should be mapped to VARCHAR for iBATIS).<br>                 typeHandler:<br><br>            &lt;columnOverride column=&quot;&quot; javaType=&quot;&quot; jdbcType=&quot;&quot; typeHandler=&quot;&quot; delimitedColumnName=&quot;&quot;/&gt;<br>        &lt;/table&gt;<br>        --&gt;<br><br>        &lt;!--其他表的简单配置--&gt;<br>        &lt;table tableName=&quot;student&quot; domainObjectName=&quot;Student&quot;<br>               enableCountByExample=&quot;false&quot; enableUpdateByExample=&quot;false&quot;<br>               enableDeleteByExample=&quot;false&quot; enableSelectByExample=&quot;false&quot;<br>               selectByExampleQueryId=&quot;false&quot;&gt;<br>        &lt;/table&gt;<br>    &lt;/context&gt;<br>&lt;/generatorConfiguration&gt;<br></code></pre></td></tr></table></figure></p>
<p>resources目录结构：<br><img src="/images/mybatis/QQ截图20190317190500.png"></p>
<hr>
<p>使用 Maven 插件运行：<br><img src="/images/mybatis/QQ截图20190317190650.png" style="width:50%"></p>
<p>运行后的结果：<br><img src="/images/mybatis/QQ截图20190317190809.png"></p>
<hr>
<h3 id="图像化方式"><a href="#图像化方式" class="headerlink" title="图像化方式"></a>图像化方式</h3><p>mybatis-generator-gui是基于mybatis generator开发一款界面工具, 本工具可以使你非常容易及快速生成Mybatis的Java POJO文件及数据库Mapping文件。</p>
<p>地址是：<a href="https://github.com/zouzg/mybatis-generator-gui" target="_blank" rel="noopener">https://github.com/zouzg/mybatis-generator-gui</a></p>
<p>要求：本工具由于使用了Java 8的众多特性，所以要求JDK 1.8.0.60以上版本，另外JDK 1.9暂时还不支持。</p>
<hr>
<h4 id="方式一下载软件"><a href="#方式一下载软件" class="headerlink" title="方式一下载软件"></a>方式一下载软件</h4><p>直接下载软件： <a href="http://tools.mingzhi.ink" target="_blank" rel="noopener">http://tools.mingzhi.ink</a></p>
<p>（1）下载完成后，直接运行该软件（前提，你的本机的java环境变量要配置为：JDK 1.8.0.60以上版本）。<br><img src="/images/mybatis/QQ截图20190317215847.png"></p>
<p>（2）点击保存后：<br><img src="/images/mybatis/QQ截图20190317220231.png"></p>
<p>（3）点击代码生成：<br><img src="/images/mybatis/QQ截图20190317220414.png"></p>
<h4 id="方式二下载源码启动"><a href="#方式二下载源码启动" class="headerlink" title="方式二下载源码启动"></a>方式二下载源码启动</h4><h5 id="两种方式下载源码"><a href="#两种方式下载源码" class="headerlink" title="两种方式下载源码"></a>两种方式下载源码</h5><ul>
<li><p>直接下载源码：<br><img src="/images/mybatis/QQ截图20190318092300.png"></p>
</li>
<li><p>使用git工具：<code>git clone https://github.com/zouzg/mybatis-generator-gui</code></p>
</li>
</ul>
<h5 id="两种方式启动"><a href="#两种方式启动" class="headerlink" title="两种方式启动"></a>两种方式启动</h5><ul>
<li>直接进入下载好的源码目录</li>
</ul>
<p>直接下载的目录为：<code>mybatis-generator-gui-master</code> ，git后的目录为：<code>mybatis-generator-gui</code></p>
<p>(1)在根目录下，启动 <code>cmd</code></p>
<p>然后输入：<code>mvn jfx:jar</code><br><img src="/images/mybatis/QQ截图20190318092931.png"></p>
<p>注意：你的本机要先安装好 maven，并配置好相关的环境变量。</p>
<p>输入命令后，会开始下载相关的jar包：<br><img src="/images/mybatis/QQ截图20190318093145.png"></p>
<p>(2) 进入target/jfx/app/目录下</p>
<p>输入：<code>cd target/jfx/app/</code></p>
<p>然后输入：<code>java -jar mybatis-generator-gui.jar</code><br><img src="/images/mybatis/QQ截图20190318093422.png"></p>
<p>回车后，就会弹出界面系统：<br><img src="/images/mybatis/QQ截图20190318093506.png"></p>
<hr>
<ul>
<li>使用Eclipse或IDEA启动下载好的源代码</li>
</ul>
<p>要求，你的IDE配置的JDK必须大于：1.8.0.40。</p>
<p>在 com.zzg.mybatis.generator下，找到：<code>MainUI</code> 主类：</p>
<p><img src="/images/mybatis/QQ截图20190318093945.png"></p>
<p>运行主类即可：<br><img src="/images/mybatis/QQ截图20190318094150.png"></p>
<hr>
<font color="red"><br><strong>注意事项</strong><br><br>(1) 本自动生成代码工具只适合生成单表的增删改查，对于需要做数据库联合查询的，请自行写新的XML与Mapper；<br><br>(2) 部分系统在中文输入方法时输入框中无法输入文字，请切换成英文输入法；<br><br>(3) 如果不明白对应字段或选项是什么意思的时候，把光标放在对应字段或Label上停留一会然后如果有解释会出现解释；<br><br></font>

<hr>
<p>还有一款图形化生成器：<a href="https://github.com/spawpaw/mybatis-generator-gui-extension" target="_blank" rel="noopener">https://github.com/spawpaw/mybatis-generator-gui-extension</a></p>
<p>大家可以自行尝试，运行。</p>

    </main>
    <footer class="post-footer">
      
      <div class="post-tags">
        
        <a class="post-tag button" href="/tags/mybatis/" rel="tag"><i class="fas fa-tags"></i>mybatis</a>
        
      </div>
      
    </footer>
  </article>
  
  
<div class="reward" id="reward">
  <p>坚持原创技术分享，您的支持是我前进的动力！</p>
  <button id="reward-button" class="button" disable="enable">打赏</button>
  <div id="qr" class="qr" style="display: none;" aria-hidden="true">
    
    <div id="wechat">
      <img id="wechat_qr" src="/images/WeChatPay.png" alt="微信支付"/>
      <span>微信支付</span>
    </div>
    
    
    <div id="alipay">
      <img id="alipay_qr" src="/images/AliPay.png" alt="支付宝"/>
      <span>支付宝</span>
    </div>
    
    
  </div>
</div>


  
  
  <nav class="page-nav">
    <div class="page-nav-next page-nav-item">
      
      <a href="/2019/03/16/Mybatis中的动态SQL/" rel="next" title="Mybatis中的动态SQL"><i class="fas fa-angle-left"></i><span class="nav-title">Mybatis中的动态SQL</span></a>
      
    </div>
    <div class="page-nav-prev page-nav-item">
      
    </div>
  </nav>
  
  
  

<div class="comments" id="comments">
  
  
  <div class="commentjs" id="comment-thread"></div>
  <link rel="stylesheet" href="/css/commentjs.css">
  <script defer type="text/javascript" src="/js/marked.min.js"></script>
  <script defer type="text/javascript" src="/js/timeago.min.js"></script>
  <script defer type="text/javascript" src="/js/highlight.min.js"></script>
  <script defer type="text/javascript" src="/js/commentjs.js"></script>
  <script type="text/javascript">
  $(document).ready(function () {
    getComments({
      "type": "github",
      "user": "liuzhuo19940206",
      "repo": "liuzhuo19940206.github.io",
      "client_id": "d67adf7d637efbea7a69",
      "client_secret": "e3958a48de708ffda0c1ff603f8b48793d43d1ae",
      "no_comment": "这个页面还没有评论，现在就去评论吧！",
      "go_to_comment": "去评论",
      "issue_title": "Mybatis代码生成器",
      "btn_class": "button",
      "comments_target": "#comment-thread"
    });
    marked.setOptions({
      "highlight": function (code, lang) {
        return hljs.highlightAuto(code).value;
      }
    });
    function mark() {
      var markdowns = document.getElementsByClassName("markdown");
      for (var i = 0; i < markdowns.length; ++i){
        if (markdowns[i].innerHTML) {
          markdowns[i].innerHTML = marked(markdowns[i].innerHTML);
        }
      }
    }
    window.addEventListener("DOMContentLoaded", mark, false);
    window.addEventListener("load", mark, false);
  });
  </script>
  
  
</div>



  
</div>

          </div>
          
          
          
<aside class="sidebar" id="sidebar" style="background: url(/images/background.png);">
  
  <div class="search">
    <div class="form-group">
      <i class="fas fa-search"></i><input type="search" id="search-input" name="q" results="0" placeholder="搜索" class="form-control"/>
    </div>
  </div>
  <div class="search-result-box" id="search-result"></div>
  
  
<div class="info sidebar-item" id="info">
  
  <img class="author-avatar" src="/images/avatar.jpg" alt="刘卓">
  
  <h1 class="author-name">刘卓</h1>
  <h2 class="author-description">hello,every body!</h2>
  <div class="site-count">
    
    <div class="archives-count">
      <div class="site-count-title">归档</div>
      <div><a href="/archives/">113</a></div>
    </div>
    
    
    
    <span class="site-count-divider divider">|</span>
    
    <div class="categories-count">
      <div class="site-count-title">分类</div>
      <div><a href="/categories/">51</a></div>
    </div>
    
    
    
    <span class="site-count-divider divider">|</span>
    
    <div class="tags-count">
      <div class="site-count-title">标签</div>
      <div><a href="/tags/">39</a></div>
    </div>
    
  </div>
  
  <div class="rss">
    <a class="rss-link button sidebar-item" href="https://weibo.com/p/1005053310889015/home" target="_blank"><i class="fas fa-rss"></i>Click</a>
  </div>
  
</div>


  <div class="sidebar-sticky">
    
    
    
    
    
    <hr>
    <div class="post-toc sidebar-item" id="toc-div">
      <div><i class="fas fa-list-ol"></i>文章目录</div>
      <div class="post-toc-content"><ol class="list-group toc"><li class="toc-item toc-level-3"><a class="list-group-item toc-link" href="#非图形化方式"><span class="toc-text">非图形化方式</span></a><ol class="list-group toc-child"><li class="toc-item toc-level-4"><a class="list-group-item toc-link" href="#XML配置详解"><span class="toc-text">XML配置详解</span></a><ol class="list-group toc-child"><li class="toc-item toc-level-5"><a class="list-group-item toc-link" href="#property标签"><span class="toc-text">property标签</span></a></li><li class="toc-item toc-level-5"><a class="list-group-item toc-link" href="#plugin标签"><span class="toc-text">plugin标签</span></a></li><li class="toc-item toc-level-5"><a class="list-group-item toc-link" href="#commentGenerator标签"><span class="toc-text">commentGenerator标签</span></a></li><li class="toc-item toc-level-5"><a class="list-group-item toc-link" href="#jdbcConnection标签"><span class="toc-text">jdbcConnection标签</span></a></li><li class="toc-item toc-level-5"><a class="list-group-item toc-link" href="#javaTypeResolver标签"><span class="toc-text">javaTypeResolver标签</span></a></li><li class="toc-item toc-level-5"><a class="list-group-item toc-link" href="#javaModelGenerator标签"><span class="toc-text">javaModelGenerator标签</span></a></li><li class="toc-item toc-level-5"><a class="list-group-item toc-link" href="#sqlMapGenerator标签"><span class="toc-text">sqlMapGenerator标签</span></a></li><li class="toc-item toc-level-5"><a class="list-group-item toc-link" href="#javaClientGenerator标签"><span class="toc-text">javaClientGenerator标签</span></a></li><li class="toc-item toc-level-5"><a class="list-group-item toc-link" href="#table标签"><span class="toc-text">table标签</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="list-group-item toc-link" href="#完整的配置"><span class="toc-text">完整的配置</span></a></li><li class="toc-item toc-level-4"><a class="list-group-item toc-link" href="#运行MyBatis-Generator"><span class="toc-text">运行MyBatis Generator</span></a><ol class="list-group toc-child"><li class="toc-item toc-level-5"><a class="list-group-item toc-link" href="#使用java编写方式"><span class="toc-text">使用java编写方式</span></a></li><li class="toc-item toc-level-5"><a class="list-group-item toc-link" href="#从命令提示符运行"><span class="toc-text">从命令提示符运行</span></a></li><li class="toc-item toc-level-5"><a class="list-group-item toc-link" href="#使用Maven-Plugin运行"><span class="toc-text">使用Maven Plugin运行</span></a></li><li class="toc-item toc-level-5"><a class="list-group-item toc-link" href="#Eclipse插件方式"><span class="toc-text">Eclipse插件方式</span></a></li><li class="toc-item toc-level-5"><a class="list-group-item toc-link" href="#使用IDEA的方式"><span class="toc-text">使用IDEA的方式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="list-group-item toc-link" href="#图像化方式"><span class="toc-text">图像化方式</span></a><ol class="list-group toc-child"><li class="toc-item toc-level-4"><a class="list-group-item toc-link" href="#方式一下载软件"><span class="toc-text">方式一下载软件</span></a></li><li class="toc-item toc-level-4"><a class="list-group-item toc-link" href="#方式二下载源码启动"><span class="toc-text">方式二下载源码启动</span></a><ol class="list-group toc-child"><li class="toc-item toc-level-5"><a class="list-group-item toc-link" href="#两种方式下载源码"><span class="toc-text">两种方式下载源码</span></a></li><li class="toc-item toc-level-5"><a class="list-group-item toc-link" href="#两种方式启动"><span class="toc-text">两种方式启动</span></a></li></ol></li></ol></li></ol></div>
    </div>
    
    
    
    <hr>
    <div class="social-link sidebar-item">
      <div><i class="far fa-address-card"></i>社交链接</p></div>
      <ul>
        
        <li><i class="fas fa-envelope"></i><a href="mailto:575920824@qq.com" target="_blank">E-Mail</a></li>
        
        <li><i class="fab fa-github"></i><a href="https://github.com/liuzhuo19940206" target="_blank">GitHub</a></li>
        
        <li><i class="fab fa-weibo"></i><a href="https://weibo.com/p/1005053310889015/home" target="_blank">Weibo</a></li>
        
      </ul>
    </div>
    
    
    <hr>
    <div class="blogroll sidebar-item">
      <div><i class="fas fa-link"></i>友情链接</div>
      <ul>
        
        <li><i class="fas fa-link"></i><a href="http://gakkij.top" target="_blank">Gakki酱</a></li>
        
        <li><i class="fas fa-link"></i><a href="https://github.com/" target="_blank">GitHub</a></li>
        
        <li><i class="fas fa-link"></i><a href="https://dev.tencent.com/user" target="_blank">Coding</a></li>
        
        <li><i class="fas fa-link"></i><a href="https://developer.mozilla.org/" target="_blank">MDN</a></li>
        
        <li><i class="fas fa-link"></i><a href="https://mozilla.github.io/nunjucks/" target="_blank">Nunjucks</a></li>
        
      </ul>
    </div>
    
  </div>
</aside>


          
        </div>
      </div>
    </main>
    
<footer id="footer" class="footer" style="background: #333333;">
  <div class="container">
    <div class="back-to-top">
      <button id="back-to-top"><i class="fas fa-angle-double-up" aria-label="回到顶部"></i></button>
    </div>
    <div class="footer-container">
      <div class="footer-left">
        <div class="copyright">
          <span class="author">刘卓</span><span class="year"><i class="far fa-copyright"></i>2018/10/10 - 2019</span>
        </div>
        
        <div class="busuanzi">
          <span id="busuanzi_container_site_pv"><i class="fas fa-eye" aria-label="站点点击量" aria-hidden="false"></i><span id="busuanzi_value_site_pv"></span></span><span id="busuanzi_container_site_uv"><i class="fas fa-user" aria-label="站点用户数" aria-hidden="false"></i><span id="busuanzi_value_site_uv"></span></span><span id="busuanzi_container_page_pv"><i class="far fa-file-alt"></i><span id="busuanzi_value_page_pv" aria-label="页面点击量" aria-hidden="false"></span></span>
        </div>
        
      </div>
      <div class="footer-right">
        <div class="custom-info">
          
          托管于<i class="fab fa-github-alt"></i><a href="https://github.com/liuzhuo19940206/liuzhuo19940206.github.io" target="_blank">GitHub Pages</a>
          
        </div>
        <div class="powered-by">
          由 <a href="https://hexo.io/" target="_blank">Hexo</a> 强力驱动 
        </div>
      </div>
    </div>
  </div>
</footer>
<script>
(function(){
    var bp = document.createElement('script');
    bp.src = '//push.zhanzhang.baidu.com/push.js';
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  </body>
</html>
